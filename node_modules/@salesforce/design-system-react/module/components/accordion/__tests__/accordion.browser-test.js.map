{"version":3,"sources":["../../../../.tmp-es/components/accordion/__tests__/accordion.browser-test.jsx"],"names":["React","chai","expect","chaiEnzyme","mount","createMountNode","destroyMountNode","Accordion","IconSettings","Panel","Dropdown","use","propTypes","defaultProps","AccordionExample","props","state","expandedPanels","items","id","summary","details","selectedItem","icon","option","label","setState","filter","item","console","log","event","value","map","menuDropdown","togglePanel","Component","displayName","describe","mountNode","wrapper","beforeEach","context","afterEach","it","attachTo","accordion","find","to","be","present","panelContentActions","exist","panel","first","have","prop","simulate"],"mappings":"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","sourcesContent":["import React from 'react';\nimport chai, { expect } from 'chai';\nimport chaiEnzyme from 'chai-enzyme';\nimport { mount } from 'enzyme';\n\n/* Enzyme Helpers that can mount and unmount React component instances to\n * the DOM and set `this.wrapper` and `this.dom` within Mocha's `this`\n * context [full source here](tests/enzyme-helpers.js). `this` can\n * only be referenced if inside `function () {}`.\n */\n\nimport {\n\tcreateMountNode,\n\tdestroyMountNode,\n} from '../../../tests/enzyme-helpers';\n\nimport Accordion from '../../accordion';\nimport IconSettings from '../../icon-settings';\nimport Panel from '../../accordion/panel';\nimport Dropdown from '../../menu-dropdown';\n\n/* Set Chai to use chaiEnzyme for enzyme compatible assertions:\n * https://github.com/producthunt/chai-enzyme\n */\n\nchai.use(chaiEnzyme());\n\n/* Re-usable demo component.\n */\n\nconst propTypes = {};\n\nconst defaultProps = {};\n\nclass AccordionExample extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\texpandedPanels: {},\n\t\t\titems: [\n\t\t\t\t{\n\t\t\t\t\tid: '1',\n\t\t\t\t\tsummary: 'Accordion Summary',\n\t\t\t\t\tdetails: 'Accordion details - A',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: '2',\n\t\t\t\t\tsummary: 'Accordion Summary',\n\t\t\t\t\tdetails: 'Accordion details - B',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: '3',\n\t\t\t\t\tsummary: 'Accordion Summary',\n\t\t\t\t\tdetails: 'Accordion details - C',\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t}\n\n\tmenuDropdown(selectedItem) {\n\t\treturn (\n\t\t\t<Dropdown\n\t\t\t\talign=\"right\"\n\t\t\t\tid=\"ButtonGroupExampleDropdown\"\n\t\t\t\tassistiveText={{ icon: 'More Options' }}\n\t\t\t\tbuttonVariant=\"icon\"\n\t\t\t\tbuttonClassName=\"slds-shrink-none\"\n\t\t\t\ticonCategory=\"utility\"\n\t\t\t\ticonName=\"down\"\n\t\t\t\ticonVariant=\"border-filled\"\n\t\t\t\tonSelect={(option) => {\n\t\t\t\t\tif (option.label === 'delete') {\n\t\t\t\t\t\tthis.setState((state) => ({\n\t\t\t\t\t\t\t...state,\n\t\t\t\t\t\t\titems: state.items.filter((item) => item.id !== selectedItem.id),\n\t\t\t\t\t\t}));\n\t\t\t\t\t} else if (console) {\n\t\t\t\t\t\tconsole.log('onSelect', event, option);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\toptions={[\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'delete',\n\t\t\t\t\t\tvalue: 'A0',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'redo',\n\t\t\t\t\t\tvalue: 'B0',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'activate',\n\t\t\t\t\t\tvalue: 'C0',\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t\ticonSize=\"x-small\"\n\t\t\t/>\n\t\t);\n\t}\n\n\ttogglePanel(id) {\n\t\tthis.setState((state) => ({\n\t\t\t...state,\n\t\t\texpandedPanels: {\n\t\t\t\t...state.expandedPanels,\n\t\t\t\t[id]: !state.expandedPanels[id],\n\t\t\t},\n\t\t}));\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<IconSettings iconPath=\"/assets/icons\">\n\t\t\t\t<Accordion id=\"base-example-accordion\">\n\t\t\t\t\t{this.state.items.map((item) => (\n\t\t\t\t\t\t<Panel\n\t\t\t\t\t\t\texpanded={!!this.state.expandedPanels[item.id]}\n\t\t\t\t\t\t\tid={item.id}\n\t\t\t\t\t\t\tpanelContentActions={this.menuDropdown(item)}\n\t\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\t\tonTogglePanel={() => this.togglePanel(item.id)}\n\t\t\t\t\t\t\tsummary={item.summary}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{item.details}\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t))}\n\t\t\t\t</Accordion>\n\t\t\t</IconSettings>\n\t\t);\n\t}\n}\n\nAccordionExample.displayName = 'AccordionExampleComponent';\nAccordionExample.propTypes = propTypes;\nAccordionExample.defaultProps = defaultProps;\n\n/* Accordion rendering tests\n */\n\ndescribe('Accordion', function() {\n\tdescribe('Renders Accordion', () => {\n\t\tlet mountNode;\n\t\tlet wrapper;\n\n\t\tbeforeEach(() => {\n\t\t\tmountNode = createMountNode({ context: this });\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tdestroyMountNode({ wrapper, mountNode });\n\t\t});\n\n\t\tit('renders an accordion', () => {\n\t\t\twrapper = mount(<AccordionExample />, { attachTo: mountNode });\n\t\t\tconst accordion = wrapper.find(Accordion);\n\t\t\texpect(accordion).to.be.present;\n\t\t});\n\n\t\tit('renders `panelContentActions` component, if passed', () => {\n\t\t\twrapper = mount(<AccordionExample />, {\n\t\t\t\tattachTo: mountNode,\n\t\t\t});\n\t\t\tconst panelContentActions = wrapper.find('div .slds-dropdown-trigger');\n\t\t\texpect(panelContentActions, 'panel dropdown component exists').to.exist;\n\t\t});\n\t});\n\n\tdescribe('Open panel', () => {\n\t\tlet mountNode;\n\t\tlet wrapper;\n\t\tbeforeEach(() => {\n\t\t\tmountNode = createMountNode({ context: this });\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tdestroyMountNode({ wrapper, mountNode });\n\t\t});\n\n\t\tit('triggers a change callback on panel select', () => {\n\t\t\twrapper = mount(<AccordionExample />, { attachTo: mountNode });\n\t\t\tconst panel = () => wrapper.find('SLDSAccordionPanel').first();\n\t\t\texpect(panel()).to.have.prop('expanded', false);\n\t\t\tpanel()\n\t\t\t\t.find('button.slds-accordion__summary-action')\n\t\t\t\t.simulate('click');\n\t\t\texpect(panel()).to.have.prop('expanded', true);\n\t\t});\n\n\t\tit('`aria-expanded` set to true on panel select', () => {\n\t\t\twrapper = mount(<AccordionExample />, { attachTo: mountNode });\n\t\t\tconst panel = () => wrapper.find('SLDSAccordionPanel').first();\n\t\t\tpanel()\n\t\t\t\t.find('button.slds-accordion__summary-action')\n\t\t\t\t.simulate('click');\n\t\t\texpect(\n\t\t\t\tpanel().find('button.slds-accordion__summary-action')\n\t\t\t).to.have.prop('aria-expanded', true);\n\t\t});\n\t});\n});\n"],"file":"accordion.browser-test.js"}