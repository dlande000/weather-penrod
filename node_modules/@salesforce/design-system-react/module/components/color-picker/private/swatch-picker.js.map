{"version":3,"sources":["../../../../.tmp-es/components/color-picker/private/swatch-picker.jsx"],"names":["React","findIndex","SwatchOption","KEYS","EventUtil","SwatchPicker","props","event","index","swatchColors","item","color","hex","nextIndex","length","prevColor","onSelect","swatchColorRefs","focus","prevIndex","nextColor","keyDownCallbacks","RIGHT","selectPreviousColor","DOWN","LEFT","selectNextColor","UP","keyCode","trapEvent","el","isSelectedColorInSwatch","includes","handleKeyDown","map","labels","addRef","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport findIndex from 'lodash.findindex';\n\nimport SwatchOption from './swatch-option';\nimport KEYS from '../../../utilities/key-code';\nimport EventUtil from '../../../utilities/event';\n\nclass SwatchPicker extends React.Component {\n\tstatic displayName = 'SLDSSwatchPicker';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.swatchColorRefs = {};\n\t}\n\n\tselectPreviousColor = (event, props) => {\n\t\tconst index = findIndex(\n\t\t\tprops.swatchColors,\n\t\t\t(item) => item === props.color.hex\n\t\t);\n\t\tconst nextIndex =\n\t\t\tindex === -1 || index === props.swatchColors.length - 1 ? 0 : index + 1;\n\t\tconst prevColor = props.swatchColors[nextIndex];\n\t\tprops.onSelect(event, {\n\t\t\thex: prevColor,\n\t\t});\n\n\t\tthis.swatchColorRefs[prevColor].focus();\n\t};\n\n\tselectNextColor = (event, props) => {\n\t\tconst index = findIndex(\n\t\t\tprops.swatchColors,\n\t\t\t(item) => item === props.color.hex\n\t\t);\n\t\tlet prevIndex;\n\t\tif (index === 0) {\n\t\t\tprevIndex = props.swatchColors.length - 1;\n\t\t} else if (index === -1) {\n\t\t\tprevIndex = 0;\n\t\t} else {\n\t\t\tprevIndex = index - 1;\n\t\t}\n\t\tconst nextColor = props.swatchColors[prevIndex];\n\t\tprops.onSelect(event, {\n\t\t\thex: nextColor,\n\t\t});\n\n\t\tthis.swatchColorRefs[nextColor].focus();\n\t};\n\n\thandleKeyDown = (event, props) => {\n\t\tconst keyDownCallbacks = {\n\t\t\t[KEYS.RIGHT]: () => {\n\t\t\t\tthis.selectPreviousColor(event, props);\n\t\t\t},\n\t\t\t[KEYS.DOWN]: () => {\n\t\t\t\tthis.selectPreviousColor(event, props);\n\t\t\t},\n\n\t\t\t[KEYS.LEFT]: () => {\n\t\t\t\tthis.selectNextColor(event, props);\n\t\t\t},\n\t\t\t[KEYS.UP]: () => {\n\t\t\t\tthis.selectNextColor(event, props);\n\t\t\t},\n\t\t};\n\n\t\tif (event.keyCode) {\n\t\t\tif (keyDownCallbacks[event.keyCode]) {\n\t\t\t\tEventUtil.trapEvent(event);\n\t\t\t\tkeyDownCallbacks[event.keyCode]();\n\t\t\t}\n\t\t}\n\t};\n\n\taddRef = (color) => (el) => {\n\t\tthis.swatchColorRefs[color] = el;\n\t};\n\n\trender() {\n\t\tconst isSelectedColorInSwatch = this.props.swatchColors.includes(\n\t\t\tthis.props.color.hex\n\t\t);\n\n\t\treturn (\n\t\t\t<ul\n\t\t\t\tclassName=\"slds-color-picker__swatches\"\n\t\t\t\trole=\"listbox\"\n\t\t\t\tonKeyDown={(event) => {\n\t\t\t\t\tthis.handleKeyDown(event, {\n\t\t\t\t\t\t...this.props,\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.props.swatchColors.map((color, index) => (\n\t\t\t\t\t<SwatchOption\n\t\t\t\t\t\tcolor={color}\n\t\t\t\t\t\tkey={color}\n\t\t\t\t\t\tlabels={this.props.labels}\n\t\t\t\t\t\tonSelect={this.props.onSelect}\n\t\t\t\t\t\tswatchOptionRef={this.addRef(color)}\n\t\t\t\t\t\tworkingColor={this.props.color}\n\t\t\t\t\t\ttabIndex={\n\t\t\t\t\t\t\t(this.props.color && this.props.color.hex === color) ||\n\t\t\t\t\t\t\t(index === 0 && !isSelectedColorInSwatch)\n\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t: -1\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t);\n\t}\n}\n\nexport default SwatchPicker;\n"],"file":"swatch-picker.js"}