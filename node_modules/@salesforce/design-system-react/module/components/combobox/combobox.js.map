{"version":3,"sources":["../../../.tmp-es/components/combobox/combobox.jsx"],"names":["React","PropTypes","assign","find","reject","isEqual","findIndex","isFunction","classNames","shortid","Button","Dialog","InnerInput","InputIcon","Menu","Label","Popover","SelectedListBox","FieldLevelHelpTooltip","KEYS","KeyBuffer","keyLetterMenuItemSelect","mapKeyEventCallbacks","menuItemSelectScroll","checkProps","COMBOBOX","componentDoc","currentOpenDropdown","documentDefined","document","propTypes","assistiveText","shape","label","string","optionSelectedInMenu","popoverLabel","removeSingleSelectedOption","removePill","selectedListboxLabel","className","oneOfType","array","object","classNameContainer","classNameMenu","classNameMenuSubHeader","events","onBlur","func","onChange","onClose","onFocus","onOpen","onRequestClose","onRequestOpen","onRequestRemoveSelectedOption","onSelect","onSubmit","errorText","fieldLevelHelpTooltip","node","hasStaticAlignment","bool","id","input","labels","multipleOptionsSelected","noOptionsFound","placeholder","placeholderReadOnly","removePillTitle","isOpen","inheritWidthOf","oneOf","onRenderMenuItem","menuPosition","menuMaxWidth","multiple","options","arrayOf","isRequired","icon","subTitle","type","disabled","boolean","tooltipContent","readOnlyMenuItemVisibleLength","predefinedOptionsOnly","popover","required","selection","selectedListboxRef","singleInputDisabled","tooltipMenuItemDisabled","element","value","variant","defaultProps","cancelButton","doneButton","optionDisabledTooltipLabel","Combobox","props","body","popoverBody","getId","popoverFooter","e","handleClose","trigger","defaultPopoverProps","ariaLabelledby","align","footer","footerClassName","hasNoNubbin","state","hasNoTriggerStyles","handleOpen","popoverProps","children","generatedId","activeOption","activeOptionIndex","offset","nextIndex","skipIndex","length","newIndex","hasNewIndex","inputRef","component","inputRendered","setState","ref","listboxHasFocus","event","handleRequestClose","getIsOpen","undefined","setTimeout","activeElement","tagName","focus","requestOpenMenu","target","getIsActiveOption","handleSelect","option","callbacks","DOWN","callback","handleKeyDownDown","ENTER","handleInputSubmit","ESCAPE","UP","handleKeyDownUp","TAB","handleKeyDownTab","other","handleKeyDownOther","stopPropagation","shiftKey","openDialog","handleNavigateListboxMenu","direction","key","keyBuffer","menuKeyBuffer","keyCode","container","menuRef","focusedIndex","offsets","next","previous","prevState","getNewActiveOptionIndex","isLastOptionAndRightIsPressed","activeSelectedOptionIndex","isFirstOptionAndLeftIsPressed","newState","activeSelectedOption","data","index","preventDefault","onlyOnePillAndInputExists","isReadOnlyAndTwoPillsExists","lastPillWasRemoved","activeSelectedOptionRef","newSelection","isSelected","singleSelectAndSelectedWasNotClicked","multiSelectAndSelectedWasNotClicked","isInlineSingleSelectionAndIsNotSelected","userDefinedProps","getErrorId","role","inputIconTitle","handleInputFocus","handleInputBlur","handleKeyDown","setInputRef","handleInputChange","getDialog","menuRenderer","renderMenu","onBlurPill","handleBlurPill","onClickPill","handlePillClickSelectedListbox","onPillFocus","handlePillFocus","onRequestFocus","handleRequestFocusSelectedListbox","onRequestFocusOnNextPill","handleNavigateSelectedListbox","onRequestFocusOnPreviousPill","onRequestRemove","handleRemoveSelectedOption","setSelectedListboxRef","iconLeft","cloneElement","containerClassName","buttonRef","menuVariant","base","readonly","menuItem","clearActiveOption","getCustomPopoverProps","generate","generatedErrorId","nextProps","item","selectedOptionsRenderIsInitialRender","isInline","context","getTargetElement","hasRenderedLabel","subRenderParameters","multipleOrSingle","subRenders","renderBase","single","renderInlineMultiple","renderInlineSingle","renderPopover","renderReadOnlyMultiple","renderReadOnlySingle","variantExists","Component","contextTypes","iconPath","displayName"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAOC,SAAP,MAAsB,kBAAtB;AAEA,OAAOC,UAAP,MAAuB,mBAAvB;AAEA,OAAOC,UAAP,MAAuB,YAAvB;AAEA,OAAOC,OAAP,MAAoB,SAApB;AAEA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,UAAP,MAAuB,4CAAvB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,eAAP,MAA4B,4CAA5B;AAEA,OAAOC,qBAAP,MAAkC,6CAAlC;AACA,OAAOC,IAAP,MAAiB,0BAAjB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,OAAOC,uBAAP,MAAoC,6CAApC;AACA,OAAOC,oBAAP,MAAiC,+BAAjC;AACA,OAAOC,oBAAP,MAAiC,yCAAjC;AAEA,OAAOC,UAAP,MAAuB,eAAvB;AAEA,SAASC,QAAT,QAAyB,2BAAzB;AACA,OAAOC,YAAP,MAAyB,aAAzB;AAEA,IAAIC,mBAAJ;AACA,IAAMC,eAAe,GAAG,OAAOC,QAAP,KAAoB,WAA5C;AAEA,IAAMC,SAAS,GAAG;AACjB;;;;;;;;;;;AAWAC,EAAAA,aAAa,EAAE9B,SAAS,CAAC+B,KAAV,CAAgB;AAC9BC,IAAAA,KAAK,EAAEhC,SAAS,CAACiC,MADa;AAE9BC,IAAAA,oBAAoB,EAAElC,SAAS,CAACiC,MAFF;AAG9BE,IAAAA,YAAY,EAAEnC,SAAS,CAACiC,MAHM;AAI9BG,IAAAA,0BAA0B,EAAEpC,SAAS,CAACiC,MAJR;AAK9BI,IAAAA,UAAU,EAAErC,SAAS,CAACiC,MALQ;AAM9BK,IAAAA,oBAAoB,EAAEtC,SAAS,CAACiC;AANF,GAAhB,CAZE;;AAoBjB;;;;AAIA,sBAAoBjC,SAAS,CAACiC,MAxBb;;AAyBjB;;;AAGAM,EAAAA,SAAS,EAAEvC,SAAS,CAACwC,SAAV,CAAoB,CAC9BxC,SAAS,CAACyC,KADoB,EAE9BzC,SAAS,CAAC0C,MAFoB,EAG9B1C,SAAS,CAACiC,MAHoB,CAApB,CA5BM;;AAiCjB;;;AAGAU,EAAAA,kBAAkB,EAAE3C,SAAS,CAACwC,SAAV,CAAoB,CACvCxC,SAAS,CAACyC,KAD6B,EAEvCzC,SAAS,CAAC0C,MAF6B,EAGvC1C,SAAS,CAACiC,MAH6B,CAApB,CApCH;;AAyCjB;;;AAGAW,EAAAA,aAAa,EAAE5C,SAAS,CAACwC,SAAV,CAAoB,CAClCxC,SAAS,CAACyC,KADwB,EAElCzC,SAAS,CAAC0C,MAFwB,EAGlC1C,SAAS,CAACiC,MAHwB,CAApB,CA5CE;;AAiDjB;;;AAGAY,EAAAA,sBAAsB,EAAE7C,SAAS,CAACwC,SAAV,CAAoB,CAC3CxC,SAAS,CAACyC,KADiC,EAE3CzC,SAAS,CAAC0C,MAFiC,EAG3C1C,SAAS,CAACiC,MAHiC,CAApB,CApDP;;AAyDjB;;;;;;;;;;;;;;AAcAa,EAAAA,MAAM,EAAE9C,SAAS,CAAC+B,KAAV,CAAgB;AACvBgB,IAAAA,MAAM,EAAE/C,SAAS,CAACgD,IADK;AAEvBC,IAAAA,QAAQ,EAAEjD,SAAS,CAACgD,IAFG;AAGvBE,IAAAA,OAAO,EAAElD,SAAS,CAACgD,IAHI;AAIvBG,IAAAA,OAAO,EAAEnD,SAAS,CAACgD,IAJI;AAKvBI,IAAAA,MAAM,EAAEpD,SAAS,CAACgD,IALK;AAMvBK,IAAAA,cAAc,EAAErD,SAAS,CAACgD,IANH;AAOvBM,IAAAA,aAAa,EAAEtD,SAAS,CAACgD,IAPF;AAQvBO,IAAAA,6BAA6B,EAAEvD,SAAS,CAACgD,IARlB;AASvBQ,IAAAA,QAAQ,EAAExD,SAAS,CAACgD,IATG;AAUvBS,IAAAA,QAAQ,EAAEzD,SAAS,CAACgD;AAVG,GAAhB,CAvES;;AAmFjB;;;AAGAU,EAAAA,SAAS,EAAE1D,SAAS,CAACiC,MAtFJ;;AAuFjB;;;AAGA0B,EAAAA,qBAAqB,EAAE3D,SAAS,CAAC4D,IA1FhB;;AA2FjB;;;AAGAC,EAAAA,kBAAkB,EAAE7D,SAAS,CAAC8D,IA9Fb;;AA+FjB;;;AAGAC,EAAAA,EAAE,EAAE/D,SAAS,CAACiC,MAlGG;;AAmGjB;;;;AAIA+B,EAAAA,KAAK,EAAEhE,SAAS,CAAC4D,IAvGA;;AAwGjB;;;;;;;;;;;;;AAaAK,EAAAA,MAAM,EAAEjE,SAAS,CAAC+B,KAAV,CAAgB;AACvBC,IAAAA,KAAK,EAAEhC,SAAS,CAACwC,SAAV,CAAoB,CAACxC,SAAS,CAAC4D,IAAX,EAAiB5D,SAAS,CAACiC,MAA3B,CAApB,CADgB;AAEvBiC,IAAAA,uBAAuB,EAAElE,SAAS,CAACiC,MAFZ;AAGvBkC,IAAAA,cAAc,EAAEnE,SAAS,CAACwC,SAAV,CAAoB,CAACxC,SAAS,CAAC4D,IAAX,EAAiB5D,SAAS,CAACiC,MAA3B,CAApB,CAHO;AAIvBmC,IAAAA,WAAW,EAAEpE,SAAS,CAACiC,MAJA;AAKvBoC,IAAAA,mBAAmB,EAAErE,SAAS,CAACiC,MALR;AAMvBqC,IAAAA,eAAe,EAAEtE,SAAS,CAACiC;AANJ,GAAhB,CArHS;;AA6HjB;;;AAGAsC,EAAAA,MAAM,EAAEvE,SAAS,CAAC8D,IAhID;;AAiIjB;;;;;;AAMAU,EAAAA,cAAc,EAAExE,SAAS,CAACyE,KAAV,CAAgB,CAAC,QAAD,EAAW,MAAX,EAAmB,MAAnB,CAAhB,CAvIC;;AAwIjB;;;;;;;;AAQAC,EAAAA,gBAAgB,EAAE1E,SAAS,CAACgD,IAhJX;;AAiJjB;;;;;;AAMA2B,EAAAA,YAAY,EAAE3E,SAAS,CAACyE,KAAV,CAAgB,CAC7B,UAD6B,EAE7B,yBAF6B,EAG7B,UAH6B,CAAhB,CAvJG;;AA4JjB;;;;AAIAG,EAAAA,YAAY,EAAE5E,SAAS,CAACiC,MAhKP;;AAiKjB;;;AAGA4C,EAAAA,QAAQ,EAAE7E,SAAS,CAAC8D,IApKH;;AAqKjB;;;;;;;;;;;;;;;;;;;;;;AAsBAgB,EAAAA,OAAO,EAAE9E,SAAS,CAAC+E,OAAV,CACR/E,SAAS,CAACA,SAAV,CAAoB+B,KAApB,CAA0B;AACzBgC,IAAAA,EAAE,EAAE/D,SAAS,CAACiC,MAAV,CAAiB+C,UADI;AAEzBC,IAAAA,IAAI,EAAEjF,SAAS,CAAC4D,IAFS;AAGzB5B,IAAAA,KAAK,EAAEhC,SAAS,CAACiC,MAHQ;AAIzBiD,IAAAA,QAAQ,EAAElF,SAAS,CAACiC,MAJK;AAKzBkD,IAAAA,IAAI,EAAEnF,SAAS,CAACiC,MALS;AAMzBmD,IAAAA,QAAQ,EAAEpF,SAAS,CAACqF,OANK;AAOzBC,IAAAA,cAAc,EAAEtF,SAAS,CAAC4D;AAPD,GAA1B,CADQ,CA3LQ;;AAsMjB;;;AAGA2B,EAAAA,6BAA6B,EAAEvF,SAAS,CAACyE,KAAV,CAAgB,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAP,CAAhB,CAzMd;;AA0MjB;;;AAGAe,EAAAA,qBAAqB,EAAExF,SAAS,CAAC8D,IA7MhB;;AA8MjB;;;AAGA2B,EAAAA,OAAO,EAAEzF,SAAS,CAAC4D,IAjNF;;AAkNjB;;;AAGA8B,EAAAA,QAAQ,EAAE1F,SAAS,CAAC8D,IArNH;;AAsNjB;;;AAGA6B,EAAAA,SAAS,EAAE3F,SAAS,CAAC+E,OAAV,CACV/E,SAAS,CAACA,SAAV,CAAoB+B,KAApB,CAA0B;AACzBgC,IAAAA,EAAE,EAAE/D,SAAS,CAACiC,MAAV,CAAiB+C,UADI;AAEzBC,IAAAA,IAAI,EAAEjF,SAAS,CAAC4D,IAFS;AAGzB5B,IAAAA,KAAK,EAAEhC,SAAS,CAACiC,MAHQ;AAIzBiD,IAAAA,QAAQ,EAAElF,SAAS,CAACiC,MAJK;AAKzBkD,IAAAA,IAAI,EAAEnF,SAAS,CAACiC;AALS,GAA1B,CADU,EAQT+C,UAjOe;;AAkOjB;;;AAGAY,EAAAA,kBAAkB,EAAE5F,SAAS,CAACgD,IArOb;;AAsOjB;;;AAGA6C,EAAAA,mBAAmB,EAAE7F,SAAS,CAAC8D,IAzOd;;AA0OjB;;;AAGAgC,EAAAA,uBAAuB,EAAE9F,SAAS,CAAC+F,OA7OlB;;AA8OjB;;;AAGAC,EAAAA,KAAK,EAAEhG,SAAS,CAACiC,MAjPA;;AAkPjB;;;;;;;;;;AAUAgE,EAAAA,OAAO,EAAEjG,SAAS,CAACyE,KAAV,CAAgB,CAAC,MAAD,EAAS,gBAAT,EAA2B,SAA3B,EAAsC,UAAtC,CAAhB;AA5PQ,CAAlB;AA+PA,IAAMyB,YAAY,GAAG;AACpBpE,EAAAA,aAAa,EAAE;AACdI,IAAAA,oBAAoB,EAAE,oBADR;AAEdE,IAAAA,0BAA0B,EAAE,wBAFd;AAGdC,IAAAA,UAAU,EAAE,uCAHE;AAIdC,IAAAA,oBAAoB,EAAE;AAJR,GADK;AAOpBQ,EAAAA,MAAM,EAAE,EAPY;AAQpBmB,EAAAA,MAAM,EAAE;AACPkC,IAAAA,YAAY,EAAE,QADP;AAEPC,IAAAA,UAAU,QAFH;AAGPjC,IAAAA,cAAc,EAAE,mBAHT;AAIPkC,IAAAA,0BAA0B,EAAE,0BAJrB;AAKPhC,IAAAA,mBAAmB,EAAE,kBALd;AAMPC,IAAAA,eAAe,EAAE;AANV,GARY;AAgBpBE,EAAAA,cAAc,EAAE,QAhBI;AAiBpBG,EAAAA,YAAY,EAAE,UAjBM;AAkBpBY,EAAAA,6BAA6B,EAAE,CAlBX;AAmBpBG,EAAAA,QAAQ,EAAE,KAnBU;AAoBpBC,EAAAA,SAAS,EAAE,EApBS;AAqBpBE,EAAAA,mBAAmB,EAAE,KArBD;AAsBpBI,EAAAA,OAAO,EAAE;AAtBW,CAArB;AAyBA;;;;IAGMK,Q;;;;;AACL,oBAAYC,MAAZ,EAAmB;AAAA;;AAAA;;AAClB,kFAAMA,MAAN;;AADkB,4EA2EK,UAACC,IAAD,QAAqC;AAAA,UAA5B1E,aAA4B,QAA5BA,aAA4B;AAAA,UAAbmC,MAAa,QAAbA,MAAa;;AAC5D;;;AAGA,UAAMwC,WAAW,GAChB,iCACC;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAqC,QAAA,EAAE,YAAK,MAAKC,KAAL,EAAL;AAAvC,SACE5E,aAAa,CAACK,YADhB,CADD,EAIEqE,IAJF,CADD;AASA,UAAMG,aAAa,GAClB,iCACC,oBAAC,MAAD;AACC,QAAA,KAAK,EAAE1C,MAAM,CAACkC,YADf;AAEC,QAAA,OAAO,EAAE,iBAACS,CAAD,EAAO;AACf,gBAAKC,WAAL,CAAiBD,CAAjB,EAAoB;AAAEE,YAAAA,OAAO,EAAE;AAAX,WAApB;AACA;AAJF,QADD,EAOC,oBAAC,MAAD;AACC,QAAA,KAAK,EAAE7C,MAAM,CAACmC,UADf;AAEC,QAAA,OAAO,EAAC,OAFT;AAGC,QAAA,OAAO,EAAE,MAAKS;AAHf,QAPD,CADD;AAgBA,UAAME,mBAAmB,GAAG;AAC3BC,QAAAA,cAAc,YAAK,MAAKN,KAAL,EAAL,WADa;AAE3BO,QAAAA,KAAK,EAAE,QAFoB;AAG3BT,QAAAA,IAAI,EAAEC,WAHqB;AAI3BlE,QAAAA,SAAS,EAAE,yBAJgB;AAK3B2E,QAAAA,MAAM,EAAEP,aALmB;AAM3BQ,QAAAA,eAAe,EAAE,2BANU;AAO3BC,QAAAA,WAAW,EAAE,IAPc;AAQ3BrD,QAAAA,EAAE,YAAK,MAAK2C,KAAL,EAAL,CARyB;AAS3BnC,QAAAA,MAAM,EAAE,MAAK8C,KAAL,CAAW9C,MATQ;AAU3B+C,QAAAA,kBAAkB,EAAE,IAVO;AAW3BlE,QAAAA,MAAM,EAAE,MAAKmE,UAXc;AAY3BrE,QAAAA,OAAO,EAAE,MAAK2D,WAZa;AAa3BxD,QAAAA,cAAc,EAAE,MAAKwD;AAbM,OAA5B;AAgBA;;AACA,UAAMW,YAAY,GAAGvH,MAAM,CAC1B8G,mBAD0B,EAE1B,MAAKR,KAAL,CAAWd,OAAX,GAAqB,MAAKc,KAAL,CAAWd,OAAX,CAAmBc,KAAxC,GAAgD,EAFtB,CAA3B;AAIAiB,MAAAA,YAAY,CAAChB,IAAb,GAAoBC,WAApB;AAEA,aAAOe,YAAY,CAACC,QAApB;AACA,aAAOD,YAAP;AACA,KAjIkB;;AAAA,4DA4KX;AAAA,aAAM,MAAKjB,KAAL,CAAWxC,EAAX,IAAiB,MAAK2D,WAA5B;AAAA,KA5KW;;AAAA,wEA8KC;AAAA,aACnB,MAAKL,KAAL,CAAWM,YAAX,IAA2B,MAAKN,KAAL,CAAWO,iBAAX,KAAiC,CAAC,CAD1C;AAAA,KA9KD;;AAAA,gEAiLP;AAAA,aACX,CAAC,EAAE,OAAO,MAAKrB,KAAL,CAAWhC,MAAlB,KAA6B,SAA7B,GACA,MAAKgC,KAAL,CAAWhC,MADX,GAEA,MAAK8C,KAAL,CAAW9C,MAFb,CADU;AAAA,KAjLO;;AAAA,8EAsLO,iBAA4C;AAAA,UAAzCqD,iBAAyC,SAAzCA,iBAAyC;AAAA,UAAtBC,MAAsB,SAAtBA,MAAsB;AAAA,UAAd/C,OAAc,SAAdA,OAAc;AACrE;AACA,UAAMgD,SAAS,GAAGF,iBAAiB,GAAGC,MAAtC;AACA,UAAME,SAAS,GACdjD,OAAO,CAACkD,MAAR,GAAiBF,SAAjB,IACAA,SAAS,IAAI,CADb,IAEAhD,OAAO,CAACgD,SAAD,CAAP,CAAmB3C,IAAnB,KAA4B,WAH7B;AAIA,UAAM8C,QAAQ,GAAGF,SAAS,GAAGD,SAAS,GAAGD,MAAf,GAAwBC,SAAlD;AACA,UAAMI,WAAW,GAAGpD,OAAO,CAACkD,MAAR,GAAiBF,SAAjB,IAA8BA,SAAS,IAAI,CAA/D;AACA,aAAOI,WAAW,GAAGD,QAAH,GAAcL,iBAAhC;AACA,KAhMkB;;AAAA,uEAkMA;AAAA,aAAM,MAAKO,QAAX;AAAA,KAlMA;;AAAA,kEAoML,UAACC,SAAD,EAAe;AAC5B,YAAKD,QAAL,GAAgBC,SAAhB,CAD4B,CAE5B;AACA;AACA;AACA;AACA;;AACA,UAAI,CAAC,MAAKf,KAAL,CAAWgB,aAAhB,EAA+B;AAC9B,cAAKC,QAAL,CAAc;AAAED,UAAAA,aAAa,EAAE;AAAjB,SAAd;AACA;AACD,KA9MkB;;AAAA,4EAgNK,UAACE,GAAD,EAAS;AAChC,YAAK3C,kBAAL,GAA0B2C,GAA1B;;AACA,UAAI,MAAKhC,KAAL,CAAWX,kBAAf,EAAmC;AAClC,cAAKW,KAAL,CAAWX,kBAAX,CAA8B2C,GAA9B;AACA;AACD,KArNkB;;AAAA,qEAuNF,YAAM;AACtB,YAAKD,QAAL,CAAc;AAAEE,QAAAA,eAAe,EAAE;AAAnB,OAAd;AACA,KAzNkB;;AAAA,yEA8NE,UAACC,KAAD,EAAW;AAC/B,YAAKC,kBAAL,CAAwBD,KAAxB,EAA+B,EAA/B;AACA,KAhOkB;;AAAA,kEAkOL,UAACA,KAAD,EAA6B;AAAA,sFAAP,EAAO;AAAA,UAAnB3B,OAAmB,SAAnBA,OAAmB;;AAC1C,UAAMvC,MAAM,GAAG,MAAKoE,SAAL,EAAf;;AAEA,UAAIpE,MAAJ,EAAY;AACX,YAAI7C,mBAAmB,kCAAvB,EAAkC;AACjCA,UAAAA,mBAAmB,GAAGkH,SAAtB;AACA;;AAED,cAAKN,QAAL,CAAc;AACbX,UAAAA,YAAY,EAAEiB,SADD;AAEbhB,UAAAA,iBAAiB,EAAE,CAAC,CAFP;AAGbrD,UAAAA,MAAM,EAAE;AAHK,SAAd;;AAMA,YAAI,MAAKgC,KAAL,CAAWN,OAAX,KAAuB,SAAvB,IAAoCa,OAAO,KAAK,QAApD,EAA8D;AAC7D,cAAI,MAAKP,KAAL,CAAWd,OAAX,CAAmBc,KAAnB,CAAyBrD,OAA7B,EAAsC;AACrC,kBAAKqD,KAAL,CAAWd,OAAX,CAAmBc,KAAnB,CAAyBrD,OAAzB,CAAiCuF,KAAjC,EAAwC;AAAE3B,cAAAA,OAAO,EAAPA;AAAF,aAAxC;AACA;AACD;;AAED,YAAI,MAAKP,KAAL,CAAWzD,MAAX,CAAkBI,OAAtB,EAA+B;AAC9B,gBAAKqD,KAAL,CAAWzD,MAAX,CAAkBI,OAAlB,CAA0BuF,KAA1B,EAAiC,EAAjC;AACA;AACD;AACD,KA1PkB;;AAAA,sEA4PD,UAACA,KAAD,EAAW;AAC5B;AACAI,MAAAA,UAAU,CAAC,YAAM;AAChB,YAAMC,aAAa,GAAGnH,eAAe,GAAGC,QAAQ,CAACkH,aAAZ,GAA4B,KAAjE,CADgB,CAEhB;;AACA,YACCA,aAAa,IACbA,aAAa,CAACC,OAAd,KAA0B,KAD1B,IAEAD,aAAa,CAAC/E,EAAd,eAAwB,MAAK2C,KAAL,EAAxB,aAHD,EAIE;AACD,cAAI,MAAKyB,QAAT,EAAmB;AAClB,kBAAKA,QAAL,CAAca,KAAd;AACA;AACD,SARD,MAQO,IAAI,CAAC,MAAKzC,KAAL,CAAWd,OAAhB,EAAyB;AAC/B,gBAAKoB,WAAL,CAAiB4B,KAAjB;AACA;AACD,OAdS,EAcP,GAdO,CAAV;;AAgBA,UAAI,MAAKlC,KAAL,CAAWzD,MAAX,CAAkBC,MAAtB,EAA8B;AAC7B,cAAKwD,KAAL,CAAWzD,MAAX,CAAkBC,MAAlB,CAAyB0F,KAAzB;AACA;AACD,KAjRkB;;AAAA,wEAmRC,UAACA,KAAD,EAAW;AAC9B,YAAKQ,eAAL;;AACA,UAAI,MAAK1C,KAAL,CAAWzD,MAAX,IAAqB,MAAKyD,KAAL,CAAWzD,MAAX,CAAkBG,QAA3C,EAAqD;AACpD,cAAKsD,KAAL,CAAWzD,MAAX,CAAkBG,QAAlB,CAA2BwF,KAA3B,EAAkC;AAAEzC,UAAAA,KAAK,EAAEyC,KAAK,CAACS,MAAN,CAAalD;AAAtB,SAAlC;AACA;AACD,KAxRkB;;AAAA,uEA0RA,UAACyC,KAAD,EAAW;AAC7B,UAAI,MAAKlC,KAAL,CAAWzD,MAAX,CAAkBK,OAAtB,EAA+B;AAC9B,cAAKoD,KAAL,CAAWzD,MAAX,CAAkBK,OAAlB,CAA0BsF,KAA1B,EAAiC,EAAjC;AACA;AACD,KA9RkB;;AAAA,wEAgSC,UAACA,KAAD,EAAW;AAC9B,UAAI,MAAKpB,KAAL,CAAWM,YAAX,IAA2B,MAAKN,KAAL,CAAWM,YAAX,CAAwBvC,QAAvD,EAAiE;AAChE;AACA,OAH6B,CAK9B;;;AACA,UAAI,MAAK+D,iBAAL,EAAJ,EAA8B;AAC7B,cAAKC,YAAL,CAAkBX,KAAlB,EAAyB;AACxBY,UAAAA,MAAM,EAAE,MAAKhC,KAAL,CAAWM,YADK;AAExBhC,UAAAA,SAAS,EAAE,MAAKY,KAAL,CAAWZ;AAFE,SAAzB,EAD6B,CAK7B;;AACA,OAND,MAMO,IACN,CAAC,MAAKY,KAAL,CAAWf,qBAAZ,IACAiD,KAAK,CAACS,MAAN,CAAalD,KAAb,KAAuB,EADvB,IAEA,MAAKO,KAAL,CAAWzD,MAAX,CAAkBW,QAHZ,EAIL;AACD,cAAK8C,KAAL,CAAWzD,MAAX,CAAkBW,QAAlB,CAA2BgF,KAA3B,EAAkC;AACjCzC,UAAAA,KAAK,EAAEyC,KAAK,CAACS,MAAN,CAAalD;AADa,SAAlC;AAGA;AACD,KArTkB;;AAAA,oEA2TH,UAACyC,KAAD,EAAW;AAAA;;AAC1B,UAAMa,SAAS,iDACbpI,IAAI,CAACqI,IADQ,EACD;AAAEC,QAAAA,QAAQ,EAAE,MAAKC;AAAjB,OADC,+BAEbvI,IAAI,CAACwI,KAFQ,EAEA;AAAEF,QAAAA,QAAQ,EAAE,MAAKG;AAAjB,OAFA,+BAGbzI,IAAI,CAAC0I,MAHQ,EAGC;AAAEJ,QAAAA,QAAQ,EAAE,MAAK3C;AAAjB,OAHD,+BAIb3F,IAAI,CAAC2I,EAJQ,EAIH;AAAEL,QAAAA,QAAQ,EAAE,MAAKM;AAAjB,OAJG,cAAf;;AAOA,UAAI,MAAKvD,KAAL,CAAWN,OAAX,KAAuB,UAA3B,EAAuC;AACtC,YAAI,MAAKM,KAAL,CAAWZ,SAAX,CAAqBqC,MAArB,GAA8B,CAAlC,EAAqC;AACpCsB,UAAAA,SAAS,CAACpI,IAAI,CAAC6I,GAAN,CAAT,GAAsB;AAAEP,YAAAA,QAAQ,EAAE,MAAKQ;AAAjB,WAAtB;AACA,SAFD,MAEO;AACNV,UAAAA,SAAS,CAACpI,IAAI,CAAC6I,GAAN,CAAT,GAAsBnB,SAAtB;AACA;;AACDU,QAAAA,SAAS,CAACW,KAAV,GAAkB;AACjBT,UAAAA,QAAQ,EAAE,MAAKU,kBADE;AAEjBC,UAAAA,eAAe,EAAE;AAFA,SAAlB;AAIA,OAlByB,CAoB1B;;;AACA9I,MAAAA,oBAAoB,CAACoH,KAAD,EAAQ;AAAEa,QAAAA,SAAS,EAATA;AAAF,OAAR,CAApB;AACA,KAjVkB;;AAAA,wEAmVC,UAACb,KAAD,EAAW;AAC9B;AACA,UAAI,CAACA,KAAK,CAAC2B,QAAX,EAAqB;AACpB,cAAKC,UAAL;AACA;;AAED,UAAI,MAAK9D,KAAL,CAAWN,OAAX,KAAuB,SAA3B,EAAsC;AACrC,cAAKqE,yBAAL,CAA+B7B,KAA/B,EAAsC;AAAE8B,UAAAA,SAAS,EAAE;AAAb,SAAtC;AACA;AACD,KA5VkB;;AAAA,uEA8VA,YAAM;AACxB,UAAI,MAAK3E,kBAAT,EAA6B;AAC5B,cAAK0C,QAAL,CAAc;AACbE,UAAAA,eAAe,EAAE;AADJ,SAAd;AAGA;AACD,KApWkB;;AAAA,sEAsWD,UAACC,KAAD,EAAW;AAC5B;AACA,UAAI,CAACA,KAAK,CAAC2B,QAAP,IAAmB,MAAK/C,KAAL,CAAW9C,MAAlC,EAA0C;AACzC,cAAK+F,yBAAL,CAA+B7B,KAA/B,EAAsC;AAAE8B,UAAAA,SAAS,EAAE;AAAb,SAAtC;AACA;AACD,KA3WkB;;AAAA,yEA6WE,UAAC9B,KAAD,EAAW;AAC/B,UAAMb,iBAAiB,GAAGxG,uBAAuB,CAAC;AACjDoJ,QAAAA,GAAG,EAAE/B,KAAK,CAAC+B,GADsC;AAEjDC,QAAAA,SAAS,EAAE,MAAKC,aAFiC;AAGjDC,QAAAA,OAAO,EAAElC,KAAK,CAACkC,OAHkC;AAIjD7F,QAAAA,OAAO,EAAE,MAAKyB,KAAL,CAAWzB;AAJ6B,OAAD,CAAjD;;AAOA,UAAI8C,iBAAiB,KAAKgB,SAA1B,EAAqC;AACpC,YAAI,MAAKvB,KAAL,CAAW9C,MAAf,EAAuB;AACtBjD,UAAAA,oBAAoB,CAAC;AACpBsJ,YAAAA,SAAS,EAAE,MAAKC,OADI;AAEpBC,YAAAA,YAAY,EAAElD;AAFM,WAAD,CAApB;AAIA;;AAED,cAAKU,QAAL,CAAc;AACbX,UAAAA,YAAY,EAAE,MAAKpB,KAAL,CAAWzB,OAAX,CAAmB8C,iBAAnB,CADD;AAEbA,UAAAA,iBAAiB,EAAjBA;AAFa,SAAd;AAIA;AACD,KAlYkB;;AAAA,gFAoYS,UAACa,KAAD,SAA0B;AAAA,UAAhB8B,SAAgB,SAAhBA,SAAgB;AACrD,UAAMQ,OAAO,GAAG;AAAEC,QAAAA,IAAI,EAAE,CAAR;AAAWC,QAAAA,QAAQ,EAAE,CAAC;AAAtB,OAAhB,CADqD,CAErD;;AACA,YAAK3C,QAAL,CAAc,UAAC4C,SAAD,EAAe;AAC5B,YAAMjD,QAAQ,GAAG,MAAKkD,uBAAL,CAA6B;AAC7CvD,UAAAA,iBAAiB,EAAEsD,SAAS,CAACtD,iBADgB;AAE7CC,UAAAA,MAAM,EAAEkD,OAAO,CAACR,SAAD,CAF8B;AAG7CzF,UAAAA,OAAO,EAAE,MAAKyB,KAAL,CAAWzB;AAHyB,SAA7B,CAAjB;;AAMA,YAAI,MAAKuC,KAAL,CAAW9C,MAAf,EAAuB;AACtBjD,UAAAA,oBAAoB,CAAC;AACpBsJ,YAAAA,SAAS,EAAE,MAAKC,OADI;AAEpBC,YAAAA,YAAY,EAAE7C;AAFM,WAAD,CAApB;AAIA;;AAED,eAAO;AACNN,UAAAA,YAAY,EAAE,MAAKpB,KAAL,CAAWzB,OAAX,CAAmBmD,QAAnB,CADR;AAENL,UAAAA,iBAAiB,EAAEK;AAFb,SAAP;AAIA,OAlBD;AAmBA,KA1ZkB;;AAAA,oFA4Za,UAACQ,KAAD,SAA0B;AAAA,UAAhB8B,SAAgB,SAAhBA,SAAgB;AACzD,UAAMQ,OAAO,GAAG;AAAEC,QAAAA,IAAI,EAAE,CAAR;AAAWC,QAAAA,QAAQ,EAAE,CAAC;AAAtB,OAAhB;;AACA,YAAK3C,QAAL,CAAc,UAAC4C,SAAD,EAAe;AAC5B,YAAME,6BAA6B,GAClCF,SAAS,CAACG,yBAAV,GAAsC,CAAtC,KACC,MAAK9E,KAAL,CAAWZ,SAAX,CAAqBqC,MADtB,IACgCuC,SAAS,KAAK,MAF/C;AAGA,YAAMe,6BAA6B,GAClCJ,SAAS,CAACG,yBAAV,KAAwC,CAAxC,IAA6Cd,SAAS,KAAK,UAD5D;AAEA,YAAIgB,QAAJ;;AAEA,YAAIH,6BAAJ,EAAmC;AAClCG,UAAAA,QAAQ,GAAG;AACVC,YAAAA,oBAAoB,EAAE,MAAKjF,KAAL,CAAWZ,SAAX,CAAqB,CAArB,CADZ;AAEV0F,YAAAA,yBAAyB,EAAE,CAFjB;AAGV7C,YAAAA,eAAe,EAAE;AAHP,WAAX;AAKA,SAND,MAMO,IAAI8C,6BAAJ,EAAmC;AACzCC,UAAAA,QAAQ,GAAG;AACVC,YAAAA,oBAAoB,EAAE,MAAKjF,KAAL,CAAWZ,SAAX,CACrB,MAAKY,KAAL,CAAWZ,SAAX,CAAqBqC,MAArB,GAA8B,CADT,CADZ;AAIVqD,YAAAA,yBAAyB,EAAE,MAAK9E,KAAL,CAAWZ,SAAX,CAAqBqC,MAArB,GAA8B,CAJ/C;AAKVQ,YAAAA,eAAe,EAAE;AALP,WAAX;AAOA,SARM,MAQA;AACN,cAAMP,QAAQ,GAAG,MAAKkD,uBAAL,CAA6B;AAC7CvD,YAAAA,iBAAiB,EAAEsD,SAAS,CAACG,yBADgB;AAE7CxD,YAAAA,MAAM,EAAEkD,OAAO,CAACR,SAAD,CAF8B;AAG7CzF,YAAAA,OAAO,EAAE,MAAKyB,KAAL,CAAWZ;AAHyB,WAA7B,CAAjB;;AAKA4F,UAAAA,QAAQ,GAAG;AACVC,YAAAA,oBAAoB,EAAE,MAAKjF,KAAL,CAAWZ,SAAX,CAAqBsC,QAArB,CADZ;AAEVoD,YAAAA,yBAAyB,EAAEpD,QAFjB;AAGVO,YAAAA,eAAe,EAAE;AAHP,WAAX;AAKA;;AAED,eAAO+C,QAAP;AACA,OApCD;AAqCA,KAnckB;;AAAA,iEAqcN,UAAC9C,KAAD,EAAQgD,IAAR,EAAiB;AAC7B,UAAMlH,MAAM,GAAG,MAAKoE,SAAL,EAAf;;AAEA,UAAI,CAACpE,MAAL,EAAa;AACZ,YAAI7C,mBAAmB,IAAIpB,UAAU,CAACoB,mBAAmB,CAACmF,WAArB,CAArC,EAAwE;AACvEnF,UAAAA,mBAAmB,CAACmF,WAApB;AACA;AACD,OAJD,MAIO;AACNnF,QAAAA,mBAAmB,gCAAnB;;AAEA,cAAK4G,QAAL,CAAc;AACb/D,UAAAA,MAAM,EAAE;AADK,SAAd;;AAIA,YAAI,MAAKgC,KAAL,CAAWzD,MAAX,CAAkBM,MAAtB,EAA8B;AAC7B,gBAAKmD,KAAL,CAAWzD,MAAX,CAAkBM,MAAlB,CAAyBqF,KAAzB,EAAgCgD,IAAhC;AACA;AACD;AACD,KAvdkB;;AAAA,qFAydc,UAAChD,KAAD,SAA8B;AAAA,UAApBY,MAAoB,SAApBA,MAAoB;AAAA,UAAZqC,KAAY,SAAZA,KAAY;;AAC9D;AACA,YAAKpD,QAAL,CAAc;AACbkD,QAAAA,oBAAoB,EAAEnC,MADT;AAEbgC,QAAAA,yBAAyB,EAAEK,KAFd;AAGblD,QAAAA,eAAe,EAAE;AAHJ,OAAd;AAKA,KAhekB;;AAAA,sEAkeD,YAAM;AACvB,UAAI,CAAC,MAAKnB,KAAL,CAAWmB,eAAhB,EAAiC;AAChC,cAAKF,QAAL,CAAc;AAAEE,UAAAA,eAAe,EAAE;AAAnB,SAAd;AACA;AACD,KAtekB;;AAAA,iFA4eU,UAACC,KAAD,SAA8B;AAAA,UAApBY,MAAoB,SAApBA,MAAoB;AAAA,UAAZqC,KAAY,SAAZA,KAAY;AAC1DjD,MAAAA,KAAK,CAACkD,cAAN;AACA,UAAMC,yBAAyB,GAAG,MAAKrF,KAAL,CAAWZ,SAAX,CAAqBqC,MAArB,KAAgC,CAAlE;AACA,UAAM6D,2BAA2B,GAChC,MAAKtF,KAAL,CAAWZ,SAAX,CAAqBqC,MAArB,KAAgC,CAAhC,IACA,MAAKzB,KAAL,CAAWN,OAAX,KAAuB,UADvB,IAEA,MAAKM,KAAL,CAAW1B,QAHZ;AAIA,UAAMiH,kBAAkB,GAAGJ,KAAK,GAAG,CAAR,KAAc,MAAKnF,KAAL,CAAWZ,SAAX,CAAqBqC,MAA9D;;AAEA,UACC,CAAC4D,yBAAyB,IAAIC,2BAA9B,KACA,MAAK1D,QAFN,EAGE;AACD,cAAKA,QAAL,CAAca,KAAd;AACA,OALD,MAKO,IAAI8C,kBAAJ,EAAwB;AAC9B;AACA,cAAKxD,QAAL,CAAc;AACbkD,UAAAA,oBAAoB,EAAE,MAAKjF,KAAL,CAAWZ,SAAX,CAAqB+F,KAAK,GAAG,CAA7B,CADT;AAEbL,UAAAA,yBAAyB,EAAEK,KAAK,GAAG,CAFtB;AAGblD,UAAAA,eAAe,EAAE;AAHJ,SAAd;AAKA,OAPM,MAOA;AACN;AACA,cAAKF,QAAL,CAAc;AACbkD,UAAAA,oBAAoB,EAAE,MAAKjF,KAAL,CAAWZ,SAAX,CAAqB+F,KAAK,GAAG,CAA7B,CADT;AAEbL,UAAAA,yBAAyB,EAAEK,KAFd;AAGblD,UAAAA,eAAe,EAAE;AAHJ,SAAd;AAKA;;AAED,UAAI,MAAKjC,KAAL,CAAWzD,MAAX,CAAkBS,6BAAtB,EAAqD;AACpD,cAAKgD,KAAL,CAAWzD,MAAX,CAAkBS,6BAAlB,CAAgDkF,KAAhD,EAAuD;AACtD9C,UAAAA,SAAS,EAAExF,MAAM,CAAC,MAAKoG,KAAL,CAAWZ,SAAZ,EAAuB0D,MAAvB;AADqC,SAAvD;AAGA;AACD,KA/gBkB;;AAAA,yEAihBE,UAACZ,KAAD,EAAQgD,IAAR,EAAiB;AACrC,UAAI,MAAKlF,KAAL,CAAWzD,MAAX,CAAkBO,cAAtB,EAAsC;AACrC,cAAKkD,KAAL,CAAWzD,MAAX,CAAkBO,cAAlB,CAAiCoF,KAAjC,EAAwCgD,IAAxC;AACA;;AAED,UAAI,MAAK9C,SAAL,EAAJ,EAAsB;AACrB,cAAKL,QAAL,CAAc;AAAE/D,UAAAA,MAAM,EAAE;AAAV,SAAd;AACA;AACD,KAzhBkB;;AAAA,wFA2hBiB,UAACkE,KAAD,SAAoB;AAAA,UAAVF,GAAU,SAAVA,GAAU;;AACvD,UAAIA,GAAJ,EAAS;AACR,cAAKwD,uBAAL,GAA+BxD,GAA/B;;AACA,cAAKwD,uBAAL,CAA6B/C,KAA7B;AACA;AACD,KAhiBkB;;AAAA,mEAkiBJ,UAACP,KAAD,SAAkC;AAAA,UAAxB9C,SAAwB,SAAxBA,SAAwB;AAAA,UAAb0D,MAAa,SAAbA,MAAa;AAChD,UAAI2C,YAAJ;;AACA,UAAMC,UAAU,GAAG,MAAKA,UAAL,CAAgB;AAAEtG,QAAAA,SAAS,EAATA,SAAF;AAAa0D,QAAAA,MAAM,EAANA;AAAb,OAAhB,CAAnB;;AACA,UAAM6C,oCAAoC,GACzC,CAAC,MAAK3F,KAAL,CAAW1B,QAAZ,IAAwB,CAACoH,UAD1B;AAEA,UAAME,mCAAmC,GACxC,MAAK5F,KAAL,CAAW1B,QAAX,IAAuB,CAACoH,UADzB;;AAGA,UAAIC,oCAAJ,EAA0C;AACzCF,QAAAA,YAAY,GAAG,CAAC3C,MAAD,CAAf;AACA,OAFD,MAEO,IAAI8C,mCAAJ,EAAyC;AAC/CH,QAAAA,YAAY,gCAAO,MAAKzF,KAAL,CAAWZ,SAAlB,IAA6B0D,MAA7B,EAAZ;AACA,OAFM,MAEA;AACN2C,QAAAA,YAAY,GAAG7L,MAAM,CAAC,MAAKoG,KAAL,CAAWZ,SAAZ,EAAuB0D,MAAvB,CAArB;AACA;;AAED,UAAI,MAAK9C,KAAL,CAAWzD,MAAX,CAAkBU,QAAtB,EAAgC;AAC/B,cAAK+C,KAAL,CAAWzD,MAAX,CAAkBU,QAAlB,CAA2BiF,KAA3B,EAAkC;AAAE9C,UAAAA,SAAS,EAAEqG;AAAb,SAAlC;AACA;;AAED,YAAKnF,WAAL,GApBgD,CAsBhD;AACA;AACA;;AACA,KA3jBkB;;AAAA,iEA6jBN;AAAA,UAAGlB,SAAH,UAAGA,SAAH;AAAA,UAAc0D,MAAd,UAAcA,MAAd;AAAA,aAA2B,CAAC,CAACnJ,IAAI,CAACyF,SAAD,EAAY0D,MAAZ,CAAjC;AAAA,KA7jBM;;AAAA,iEA+jBN,YAAM;AAClB,UAAI,MAAK9C,KAAL,CAAWzD,MAAX,CAAkBQ,aAAtB,EAAqC;AACpC,cAAKiD,KAAL,CAAWzD,MAAX,CAAkBQ,aAAlB;AACA,OAFD,MAEO;AACN,cAAKgF,QAAL,CAAc;AACb/D,UAAAA,MAAM,EAAE;AADK,SAAd;AAGA;AACD,KAvkBkB;;AAAA,sEAykBD,YAAM;AACvB,UAAM6H,uCAAuC,GAC5C,CAAC,MAAK7F,KAAL,CAAW1B,QAAZ,IACA,MAAK0B,KAAL,CAAWZ,SAAX,CAAqBqC,MAArB,KAAgC,CADhC,IAEA,MAAKzB,KAAL,CAAWN,OAAX,KAAuB,gBAHxB;;AAKA,UACCmG,uCAAuC,IACvC,MAAK7F,KAAL,CAAW1B,QADX,IAEA,MAAK0B,KAAL,CAAWN,OAAX,KAAuB,UAHxB,EAIE;AACD,cAAKoE,UAAL;AACA;AACD,KAtlBkB;;AAAA,iEA8lBN;AAAA,UAAGvI,aAAH,UAAGA,aAAH;AAAA,UAAkBmC,MAAlB,UAAkBA,MAAlB;AAAA,UAA0BsC,KAA1B,UAA0BA,KAA1B;AAAA,UAAiC8F,gBAAjC,UAAiCA,gBAAjC;AAAA,aACZ;AAAK,QAAA,SAAS,EAAC;AAAf,SACC;AAAK,QAAA,SAAS,EAAC;AAAf,SACC;AACC,QAAA,SAAS,EAAE9L,UAAU,CACpB,eADoB,EAEpB,uBAFoB,EAGpB,6BAHoB,EAIpB,6BAJoB,EAKpB;AACC,0BAAgB,MAAKoI,SAAL;AADjB,SALoB,EAQpB;AACC,4BAAkBpC,KAAK,CAAC7C;AADzB,SARoB,EAWpB6C,KAAK,CAAChE,SAXc,CADtB;AAcC,yBAAe,MAAKoG,SAAL,EAdhB;AAeC,yBAAc,SAff,CAeyB;AACxB;AAhBD;AAiBC,+BAAc,MAAKjC,KAAL,EAAd,aAjBD,CAiBuC;AAjBvC;AAkBC,QAAA,IAAI,EAAC;AAlBN,SAoBC,oBAAC,UAAD;AACC,6BAAkB,MADnB;AAEC,mCAAkB,MAAKA,KAAL,EAAlB,aAFD;AAGC,iCACC,MAAKW,KAAL,CAAWM,YAAX,aACM,MAAKjB,KAAL,EADN,6BACqC,MAAKW,KAAL,CAAWM,YAAX,CAAwB5D,EAD7D,IAEG,IANL;AAQC,4BAAkB,MAAKuI,UAAL,EARnB;AASC,QAAA,YAAY,EAAC,KATd;AAUC,QAAA,SAAS,EAAC,sBAVX;AAWC,QAAA,cAAc,EAAE;AACf/J,UAAAA,SAAS,EAAE,6BADI;AAEfgK,UAAAA,IAAI,EAAE;AAFS,SAXjB;AAeC,QAAA,SAAS,EACR,oBAAC,SAAD;AACC,UAAA,QAAQ,EAAC,SADV;AAEC,UAAA,IAAI,EAAC,QAFN;AAGC,UAAA,KAAK,EAAEtI,MAAM,CAACuI;AAHf,UAhBF;AAsBC,QAAA,EAAE,EAAE,MAAK9F,KAAL,EAtBL;AAuBC,QAAA,OAAO,EAAE,MAAK+F,gBAvBf;AAwBC,QAAA,MAAM,EAAE,MAAKC,eAxBd;AAyBC,QAAA,SAAS,EAAE,MAAKC,aAzBjB;AA0BC,QAAA,QAAQ,EAAE,MAAKC,WA1BhB;AA2BC,QAAA,OAAO,EAAE,mBAAM;AACd,gBAAKvC,UAAL;AACA,SA7BF;AA8BC,QAAA,QAAQ,EAAE,MAAKwC,iBA9BhB;AA+BC,QAAA,WAAW,EAAE5I,MAAM,CAACG,WA/BrB;AAgCC,QAAA,QAAQ,EACP,CAAC,EAAEmC,KAAK,CAACf,qBAAN,IAA+B,MAAK6B,KAAL,CAAWM,YAA5C,CAjCH;AAmCC,QAAA,QAAQ,EAAEpB,KAAK,CAACb,QAnCjB;AAoCC,QAAA,IAAI,EAAC,SApCN;AAqCC,QAAA,KAAK,EACJa,KAAK,CAACf,qBAAN,GACI,MAAK6B,KAAL,CAAWM,YAAX,IAA2B,MAAKN,KAAL,CAAWM,YAAX,CAAwB3F,KAApD,IACDuE,KAAK,CAACP,KAFR,GAGGO,KAAK,CAACP;AAzCX,SA2CKqG,gBAAgB,CAACrI,KA3CtB,EApBD,EAiEE,MAAK8I,SAAL,CAAe;AACfC,QAAAA,YAAY,EAAE,MAAKC,UAAL,CAAgB;AAAElL,UAAAA,aAAa,EAAbA,aAAF;AAAiBmC,UAAAA,MAAM,EAANA;AAAjB,SAAhB;AADC,OAAf,CAjEF,CADD,CADD,EAwEC,oBAAC,eAAD;AACC,QAAA,YAAY,EAAE,MAAKoD,KAAL,CAAWmE,oBAD1B;AAEC,QAAA,iBAAiB,EAAE,MAAKnE,KAAL,CAAWgE,yBAF/B;AAGC,QAAA,aAAa,EAAEvJ,aAHhB;AAIC,QAAA,MAAM,EAAE;AACPmL,UAAAA,UAAU,EAAE,MAAKC,cADV;AAEPC,UAAAA,WAAW,EAAE,MAAKC,8BAFX;AAGPC,UAAAA,WAAW,EAAE,MAAKC,eAHX;AAIPC,UAAAA,cAAc,EAAE,MAAKC,iCAJd;AAKPC,UAAAA,wBAAwB,EAAE,MAAKC,6BALxB;AAMPC,UAAAA,4BAA4B,EAAE,MAAKD,6BAN5B;AAOPE,UAAAA,eAAe,EAAE,MAAKC;AAPf,SAJT;AAaC,QAAA,EAAE,YAAK,MAAKnH,KAAL,EAAL,sBAbH;AAcC,QAAA,MAAM,EAAEzC,MAdT;AAeC,QAAA,kBAAkB,EAAE,MAAK6J,qBAf1B;AAgBC,QAAA,SAAS,EAAEvH,KAAK,CAACZ,SAhBlB;AAiBC,QAAA,eAAe,EAAE,MAAK0B,KAAL,CAAWmB;AAjB7B,QAxED,EA2FEjC,KAAK,CAAC7C,SAAN,IACA;AAAK,QAAA,SAAS,EAAC;AAAf,SACC;AACC,QAAA,EAAE,EAAE,MAAK4I,UAAL,EADL;AAEC,QAAA,SAAS,EAAC;AAFX,SAIE/F,KAAK,CAAC7C,SAJR,CADD,CA5FF,CADY;AAAA,KA9lBM;;AAAA,2EAusBI;AAAA,UACtB5B,aADsB,UACtBA,aADsB;AAAA,UAEtBmC,MAFsB,UAEtBA,MAFsB;AAAA,UAGtBsC,KAHsB,UAGtBA,KAHsB;AAAA,UAItB8F,gBAJsB,UAItBA,gBAJsB;AAAA,aAMtB;AAAK,QAAA,SAAS,EAAC;AAAf,SACC;AACC,QAAA,SAAS,EAAE9L,UAAU,CAAC,yBAAD,EAA4B;AAChD,qCAA2BgG,KAAK,CAACZ,SAAN,CAAgBqC;AADK,SAA5B;AADtB,SAKEzB,KAAK,CAACZ,SAAN,CAAgBqC,MAAhB,GACA,oBAAC,eAAD;AACC,QAAA,YAAY,EAAE,MAAKX,KAAL,CAAWmE,oBAD1B;AAEC,QAAA,iBAAiB,EAAE,MAAKnE,KAAL,CAAWgE,yBAF/B;AAGC,QAAA,aAAa,EAAEvJ,aAHhB;AAIC,QAAA,MAAM,EAAE;AACPmL,UAAAA,UAAU,EAAE,MAAKC,cADV;AAEPC,UAAAA,WAAW,EAAE,MAAKC,8BAFX;AAGPC,UAAAA,WAAW,EAAE,MAAKC,eAHX;AAIPC,UAAAA,cAAc,EAAE,MAAKC,iCAJd;AAKPC,UAAAA,wBAAwB,EAAE,MAAKC,6BALxB;AAMPC,UAAAA,4BAA4B,EAAE,MAAKD,6BAN5B;AAOPE,UAAAA,eAAe,EAAE,MAAKC;AAPf,SAJT;AAaC,QAAA,EAAE,YAAK,MAAKnH,KAAL,EAAL,sBAbH;AAcC,QAAA,MAAM,EAAEzC,MAdT;AAeC,QAAA,kBAAkB,EAAE,MAAK6J,qBAf1B;AAgBC,QAAA,SAAS,EAAEvH,KAAK,CAACZ,SAhBlB;AAiBC,QAAA,eAAe,EAAE,MAAK0B,KAAL,CAAWmB;AAjB7B,QADA,GAoBG,IAzBL,EA0BC;AACC,QAAA,SAAS,EAAEjI,UAAU,CACpB,eADoB,EAEpB,uBAFoB,EAGpB,6BAHoB,EAIpB,6BAJoB,EAKpB;AACC,0BAAgB,MAAKoI,SAAL;AADjB,SALoB,EAQpB;AACC,4BAAkBpC,KAAK,CAAC7C;AADzB,SARoB,EAWpB6C,KAAK,CAAChE,SAXc,CADtB;AAcC,yBAAe,MAAKoG,SAAL,EAdhB;AAeC,yBAAc,SAff,CAeyB;AAfzB;AAgBC,QAAA,IAAI,EAAC;AAhBN,SAkBC,oBAAC,UAAD;AACC,6BAAkB,MADnB;AAEC,mCAAkB,MAAKjC,KAAL,EAAlB,aAFD;AAGC,iCACC,MAAKW,KAAL,CAAWM,YAAX,aACM,MAAKjB,KAAL,EADN,6BACqC,MAAKW,KAAL,CAAWM,YAAX,CAAwB5D,EAD7D,IAEG,IANL;AAQC,4BAAkB,MAAKuI,UAAL,EARnB;AASC,QAAA,YAAY,EAAC,KATd;AAUC,QAAA,SAAS,EAAC,sBAVX;AAWC,QAAA,cAAc,EAAE;AACf,2BAAiB,MAAK3D,SAAL,EADF;AAEf,2BAAiB,SAFF;AAGfpG,UAAAA,SAAS,EAAE,6BAHI;AAIfgK,UAAAA,IAAI,EAAE;AAJS,SAXjB;AAiBC,QAAA,SAAS,EACR,oBAAC,SAAD;AACC,UAAA,QAAQ,EAAC,SADV;AAEC,UAAA,IAAI,EAAC,QAFN;AAGC,UAAA,KAAK,EAAEtI,MAAM,CAACuI;AAHf,UAlBF;AAwBC,QAAA,EAAE,EAAE,MAAK9F,KAAL,EAxBL;AAyBC,QAAA,OAAO,EAAE,MAAK+F,gBAzBf;AA0BC,QAAA,MAAM,EAAE,MAAKC,eA1Bd;AA2BC,QAAA,SAAS,EAAE,MAAKC,aA3BjB;AA4BC,QAAA,QAAQ,EAAE,MAAKC,WA5BhB;AA6BC,QAAA,OAAO,EAAE,mBAAM;AACd,gBAAKvC,UAAL;AACA,SA/BF;AAgCC,QAAA,QAAQ,EAAE,MAAKwC,iBAhChB;AAiCC,QAAA,WAAW,EAAE5I,MAAM,CAACG,WAjCrB;AAkCC,QAAA,QAAQ,EACP,CAAC,EAAEmC,KAAK,CAACf,qBAAN,IAA+B,MAAK6B,KAAL,CAAWM,YAA5C,CAnCH;AAqCC,QAAA,QAAQ,EAAEpB,KAAK,CAACb,QArCjB;AAsCC,QAAA,IAAI,EAAC,SAtCN;AAuCC,QAAA,KAAK,EACJa,KAAK,CAACf,qBAAN,GACI,MAAK6B,KAAL,CAAWM,YAAX,IAA2B,MAAKN,KAAL,CAAWM,YAAX,CAAwB3F,KAApD,IACDuE,KAAK,CAACP,KAFR,GAGGO,KAAK,CAACP;AA3CX,SA6CKqG,gBAAgB,CAACrI,KA7CtB,EAlBD,EAiEE,MAAK8I,SAAL,CAAe;AACfC,QAAAA,YAAY,EAAE,MAAKC,UAAL,CAAgB;AAAElL,UAAAA,aAAa,EAAbA,aAAF;AAAiBmC,UAAAA,MAAM,EAANA;AAAjB,SAAhB;AADC,OAAf,CAjEF,EAoEEsC,KAAK,CAAC7C,SAAN,IACA;AAAK,QAAA,EAAE,EAAE,MAAK4I,UAAL,EAAT;AAA4B,QAAA,SAAS,EAAC;AAAtC,SACE/F,KAAK,CAAC7C,SADR,CArEF,CA1BD,CADD,CANsB;AAAA,KAvsBJ;;AAAA,yEAszBE,kBAAwD;AAAA,UAArD5B,aAAqD,UAArDA,aAAqD;AAAA,UAAtCmC,MAAsC,UAAtCA,MAAsC;AAAA,UAA9BsC,KAA8B,UAA9BA,KAA8B;AAAA,UAAvB8F,gBAAuB,UAAvBA,gBAAuB;AAC5E,UAAM0B,QAAQ,GACbxH,KAAK,CAACZ,SAAN,CAAgB,CAAhB,KAAsBY,KAAK,CAACZ,SAAN,CAAgB,CAAhB,EAAmBV,IAAzC,GACGlF,KAAK,CAACiO,YAAN,CAAmBzH,KAAK,CAACZ,SAAN,CAAgB,CAAhB,EAAmBV,IAAtC,EAA4C;AAC5CgJ,QAAAA,kBAAkB,EAAE;AADwB,OAA5C,CADH,GAIG,IALJ;AAOA,UAAMjI,KAAK,GACVO,KAAK,CAACZ,SAAN,CAAgB,CAAhB,KAAsBY,KAAK,CAACZ,SAAN,CAAgB,CAAhB,EAAmB3D,KAAzC,GACGuE,KAAK,CAACZ,SAAN,CAAgB,CAAhB,EAAmB3D,KADtB,GAEGuE,KAAK,CAACP,KAHV;AAKA;;AACA,aACC;AAAK,QAAA,SAAS,EAAC;AAAf,SACC;AACC,QAAA,SAAS,EAAEzF,UAAU,CAAC,yBAAD,EAA4B;AAChD,qCAA2BgG,KAAK,CAACZ,SAAN,CAAgBqC;AADK,SAA5B;AADtB,SAKC;AACC,QAAA,SAAS,EAAEzH,UAAU,CACpB,eADoB,EAEpB,uBAFoB,EAGpB,6BAHoB,EAIpB,6BAJoB,EAKpB;AACC,0BAAgB,MAAKoI,SAAL;AADjB,SALoB,EAQpB;AACC,4BAAkBpC,KAAK,CAAC7C;AADzB,SARoB,EAWpB6C,KAAK,CAAChE,SAXc,CADtB;AAcC,yBAAe,MAAKoG,SAAL,EAdhB;AAeC,yBAAc,SAff,CAeyB;AAfzB;AAgBC,QAAA,IAAI,EAAC;AAhBN,SAkBC,oBAAC,UAAD;AACC,6BAAkB,MADnB;AAEC,mCAAkB,MAAKjC,KAAL,EAAlB,aAFD;AAGC,iCACC,MAAKW,KAAL,CAAWM,YAAX,aACM,MAAKjB,KAAL,EADN,6BAEG,MAAKW,KAAL,CAAWM,YAAX,CAAwB5D,EAF3B,IAIG,IARL;AAUC,4BAAkB,MAAKuI,UAAL,EAVnB;AAWC,QAAA,YAAY,EAAC,KAXd;AAYC,QAAA,SAAS,EAAC,sBAZX;AAaC,QAAA,cAAc,EAAE;AACf/J,UAAAA,SAAS,EAAE,6BADI;AAEfgK,UAAAA,IAAI,EAAE;AAFS,SAbjB;AAiBC,QAAA,QAAQ,EAAE,MAAKhG,KAAL,CAAWV,mBAjBtB;AAkBC,QAAA,SAAS,EACRU,KAAK,CAACZ,SAAN,CAAgBqC,MAAhB,GACC,oBAAC,SAAD;AACC,UAAA,aAAa,EAAE;AACd/C,YAAAA,IAAI,EAAEnD,aAAa,CAACM;AADN,WADhB;AAIC,UAAA,SAAS,EAAE,mBAACgG,SAAD,EAAe;AACzB,kBAAK8F,SAAL,GAAiB9F,SAAjB;AACA,WANF;AAOC,UAAA,QAAQ,EAAC,SAPV;AAQC,UAAA,YAAY,EAAC,OARd;AASC,UAAA,IAAI,EAAC,OATN;AAUC,UAAA,OAAO,EAAE,iBAACK,KAAD,EAAW;AACnB,kBAAKoF,0BAAL,CAAgCpF,KAAhC,EAAuC;AACtCY,cAAAA,MAAM,EAAE9C,KAAK,CAACZ,SAAN,CAAgB,CAAhB;AAD8B,aAAvC;AAGA;AAdF,UADD,GAkBC,oBAAC,SAAD;AAAW,UAAA,QAAQ,EAAC,SAApB;AAA8B,UAAA,IAAI,EAAC;AAAnC,UArCH;AAwCC,QAAA,QAAQ,EAAEoI,QAxCX;AAyCC,QAAA,EAAE,EAAE,MAAKrH,KAAL,EAzCL;AA0CC,QAAA,OAAO,EAAE,MAAK+F,gBA1Cf;AA2CC,QAAA,MAAM,EAAE,MAAKC,eA3Cd;AA4CC,QAAA,SAAS,EAAE,MAAKC,aA5CjB;AA6CC,QAAA,QAAQ,EAAE,MAAKC,WA7ChB;AA8CC,QAAA,OAAO,EAAE,mBAAM;AACd,gBAAK3D,eAAL;AACA,SAhDF;AAiDC,QAAA,QAAQ,EAAE,kBAACR,KAAD,EAAW;AACpB,cAAI,CAAClC,KAAK,CAACZ,SAAN,CAAgBqC,MAArB,EAA6B;AAC5B,kBAAK6E,iBAAL,CAAuBpE,KAAvB;AACA;AACD,SArDF;AAsDC,QAAA,WAAW,EAAExE,MAAM,CAACG,WAtDrB;AAuDC,QAAA,QAAQ,EACP,CAAC,EAAEmC,KAAK,CAACf,qBAAN,IAA+B,MAAK6B,KAAL,CAAWM,YAA5C,CAAD,IACA,CAAC,CAACpB,KAAK,CAACZ,SAAN,CAAgBqC,MAzDpB;AA2DC,QAAA,QAAQ,EAAEzB,KAAK,CAACb,QA3DjB;AA4DC,QAAA,IAAI,EAAC,SA5DN;AA6DC,QAAA,KAAK,EACJa,KAAK,CAACf,qBAAN,GACI,MAAK6B,KAAL,CAAWM,YAAX,IACD,MAAKN,KAAL,CAAWM,YAAX,CAAwB3F,KADxB,IAEDuE,KAAK,CAACP,KAHR,GAIGA;AAlEL,SAoEKqG,gBAAgB,CAACrI,KApEtB,EAlBD,EAwFE,MAAK8I,SAAL,CAAe;AACfC,QAAAA,YAAY,EAAE,MAAKC,UAAL,CAAgB;AAAElL,UAAAA,aAAa,EAAbA,aAAF;AAAiBmC,UAAAA,MAAM,EAANA;AAAjB,SAAhB;AADC,OAAf,CAxFF,EA2FEsC,KAAK,CAAC7C,SAAN,IACA;AAAK,QAAA,EAAE,EAAE,MAAK4I,UAAL,EAAT;AAA4B,QAAA,SAAS,EAAC;AAAtC,SACE/F,KAAK,CAAC7C,SADR,CA5FF,CALD,CADD,CADD;AA2GA,KA/6BkB;;AAAA,iEAi7BN,kBAA+B;AAAA,UAA5B5B,aAA4B,UAA5BA,aAA4B;AAAA,UAAbmC,MAAa,UAAbA,MAAa;AAC3C,UAAMkK,WAAW,GAAG;AACnBC,QAAAA,IAAI,EAAE,qBADa;AAEnB,0BAAkB,qBAFC;AAGnBC,QAAAA,QAAQ,EAAE;AAHS,OAApB;AAMA,aACC,oBAAC,IAAD;AACC,QAAA,aAAa,EAAEvM,aADhB;AAEC,QAAA,YAAY,EAAE,MAAKuF,KAAL,CAAWM,YAF1B;AAGC,QAAA,iBAAiB,EAAE,MAAKN,KAAL,CAAWO,iBAH/B;AAIC,QAAA,aAAa,EAAE,MAAKrB,KAAL,CAAW3D,aAJ3B;AAKC,QAAA,sBAAsB,EAAE,MAAK2D,KAAL,CAAW1D,sBALpC;AAMC,QAAA,uBAAuB,EAAE,MAAK0D,KAAL,CAAWT,uBANrC;AAOC,QAAA,cAAc,EAAE,MAAKS,KAAL,CAAW/B,cAP5B;AAQC,QAAA,OAAO,EAAE,MAAKkC,KAAL,EARV;AASC,QAAA,UAAU,EAAE,MAAKH,KAAL,CAAWP,KATxB;AAUC,QAAA,UAAU,EAAE,MAAKiG,UAVlB;AAWC,QAAA,iBAAiB,EAChB,MAAK1F,KAAL,CAAWN,OAAX,KAAuB,UAAvB,GACG,MAAKM,KAAL,CAAWhB,6BADd,GAEG,IAdL;AAgBC,QAAA,MAAM,EAAEtB,MAhBT,CAiBC;AAjBD;AAkBC,QAAA,gBAAgB,EACf,MAAKsC,KAAL,CAAW7B,gBAAX,GACG,MAAK6B,KAAL,CAAW7B,gBADd,GAEG,MAAK6B,KAAL,CAAW+H,QArBhB;AAuBC,QAAA,YAAY,EAAE,MAAK/H,KAAL,CAAW5B,YAvB1B;AAwBC,QAAA,OAAO,EAAE,iBAAC4D,GAAD,EAAS;AACjB,gBAAKsC,OAAL,GAAetC,GAAf;AACA,SA1BF;AA2BC,QAAA,QAAQ,EAAE,MAAKhC,KAAL,CAAW3B,YA3BtB;AA4BC,QAAA,OAAO,EAAE,MAAK2B,KAAL,CAAWzB,OA5BrB;AA6BC,QAAA,QAAQ,EAAE,MAAKsE,YA7BhB;AA8BC,QAAA,iBAAiB,EAAE,MAAKmF,iBA9BzB;AA+BC,QAAA,SAAS,EAAE,MAAKhI,KAAL,CAAWZ,SA/BvB;AAgCC,QAAA,OAAO,EAAEwI,WAAW,CAAC,MAAK5H,KAAL,CAAWN,OAAZ;AAhCrB,QADD;AAoCA,KA59BkB;;AAAA,oEA89BH,kBAAsC;AAAA,UAAnCnE,aAAmC,UAAnCA,aAAmC;AAAA,UAApBmC,MAAoB,UAApBA,MAAoB;AAAA,UAAZsC,KAAY,UAAZA,KAAY;;AACrD,UAAMiB,YAAY,GAAG,MAAKgH,qBAAL,CACpB,MAAKjI,KAAL,CAAWd,OAAX,CAAmBc,KAAnB,CAAyBC,IADL,EAEpB;AAAE1E,QAAAA,aAAa,EAAbA,aAAF;AAAiBmC,QAAAA,MAAM,EAANA;AAAjB,OAFoB,CAArB;;AAKA,aACC;AAAK,QAAA,SAAS,EAAC;AAAf,SACC;AAAK,QAAA,SAAS,EAAC;AAAf,SACC;AACC,QAAA,SAAS,EAAE1D,UAAU,CACpB,eADoB,EAEpB,uBAFoB,EAGpB,6BAHoB,EAIpB,6BAJoB,EAKpB;AACC,0BAAgB,MAAKoI,SAAL;AADjB,SALoB,EAQpB;AACC,4BAAkBpC,KAAK,CAAC7C;AADzB,SARoB,EAWpB6C,KAAK,CAAChE,SAXc,CADtB;AAcC,yBAAe,MAAKoG,SAAL,EAdhB;AAeC,yBAAc,QAff,CAewB;AAfxB;AAgBC,+BAAc,MAAKjC,KAAL,EAAd,CAhBD,CAgB+B;AAhB/B;AAiBC,QAAA,IAAI,EAAC;AAjBN,SAmBC,oBAAC,OAAD,EAAac,YAAb,EACC,oBAAC,UAAD;AACC,6BAAkB,MADnB;AAEC,mCAAkB,MAAKd,KAAL,EAAlB,CAFD;AAGC,4BAAkB,MAAK4F,UAAL,EAHnB;AAIC,QAAA,YAAY,EAAC,KAJd;AAKC,QAAA,SAAS,EAAC,sBALX;AAMC,QAAA,cAAc,EAAE;AACf/J,UAAAA,SAAS,EAAE,6BADI;AAEfgK,UAAAA,IAAI,EAAE;AAFS,SANjB;AAUC,QAAA,SAAS,EAAE,oBAAC,SAAD;AAAW,UAAA,QAAQ,EAAC,SAApB;AAA8B,UAAA,IAAI,EAAC;AAAnC,UAVZ;AAWC,QAAA,EAAE,EAAE,MAAK7F,KAAL,EAXL;AAYC,QAAA,OAAO,EAAE,MAAK+F,gBAZf;AAaC,QAAA,MAAM,EAAE,MAAKC,eAbd;AAcC,QAAA,SAAS,EAAE,MAAKC,aAdjB;AAeC,QAAA,QAAQ,EAAE,MAAKC,WAfhB;AAgBC,QAAA,OAAO,EAAE,mBAAM;AACd,gBAAKvC,UAAL;AACA,SAlBF;AAmBC,QAAA,QAAQ,EAAE,MAAKwC,iBAnBhB;AAoBC,QAAA,WAAW,EAAE5I,MAAM,CAACG,WApBrB;AAqBC,QAAA,QAAQ,MArBT;AAsBC,QAAA,QAAQ,EAAEmC,KAAK,CAACb,QAtBjB;AAuBC,QAAA,IAAI,EAAC,SAvBN;AAwBC,QAAA,KAAK,EAAEa,KAAK,CAACP;AAxBd,QADD,CAnBD,CADD,CADD,EAmDEO,KAAK,CAAC7C,SAAN,IACA;AAAK,QAAA,SAAS,EAAC;AAAf,SACC;AACC,QAAA,EAAE,EAAE,MAAK4I,UAAL,EADL;AAEC,QAAA,SAAS,EAAC;AAFX,SAIE/F,KAAK,CAAC7C,SAJR,CADD,CApDF,CADD;AAgEA,KApiCkB;;AAAA,6EAsiCM,kBAKnB;AAAA,UAJL5B,aAIK,UAJLA,aAIK;AAAA,UAHLmC,MAGK,UAHLA,MAGK;AAAA,UAFLsC,KAEK,UAFLA,KAEK;AAAA,UADL8F,gBACK,UADLA,gBACK;AACL,UAAMrG,KAAK,GACVO,KAAK,CAACZ,SAAN,CAAgBqC,MAAhB,GAAyB,CAAzB,GACG/D,MAAM,CAACC,uBAAP,cACEqC,KAAK,CAACZ,SAAN,CAAgBqC,MADlB,sBADH,GAGIzB,KAAK,CAACZ,SAAN,CAAgB,CAAhB,KAAsBY,KAAK,CAACZ,SAAN,CAAgB,CAAhB,EAAmB3D,KAA1C,IAAoD,EAJxD;AAMA;;AACA,aACC;AAAK,QAAA,SAAS,EAAC;AAAf,SACC;AAAK,QAAA,SAAS,EAAC;AAAf,SACC;AACC,QAAA,SAAS,EAAEzB,UAAU,CACpB,eADoB,EAEpB,uBAFoB,EAGpB,6BAHoB,EAIpB,6BAJoB,EAKpB;AACC,0BAAgB,MAAKoI,SAAL;AADjB,SALoB,EAQpB;AACC,4BAAkBpC,KAAK,CAAC7C;AADzB,SARoB,EAWpB6C,KAAK,CAAChE,SAXc,CADtB;AAcC,yBAAe,MAAKoG,SAAL,EAdhB;AAeC,yBAAc,SAff,CAeyB;AAfzB;AAgBC,QAAA,IAAI,EAAC;AAhBN,SAkBC,oBAAC,UAAD;AACC,6BAAkB,MADnB;AAEC,mCAAkB,MAAKjC,KAAL,EAAlB,aAFD;AAGC,iCACC,MAAKW,KAAL,CAAWM,YAAX,aACM,MAAKjB,KAAL,EADN,6BAEG,MAAKW,KAAL,CAAWM,YAAX,CAAwB5D,EAF3B,IAIG,IARL;AAUC,4BAAkB,MAAKuI,UAAL,EAVnB;AAWC,QAAA,YAAY,EAAC,KAXd;AAYC,QAAA,SAAS,EAAC,sBAZX;AAaC,QAAA,cAAc,EAAE;AACf,2BAAiB,MAAK3D,SAAL,EADF;AAEf,2BAAiB,SAFF;AAGfpG,UAAAA,SAAS,EAAE,6BAHI;AAIfgK,UAAAA,IAAI,EAAE;AAJS,SAbjB;AAmBC,QAAA,SAAS,EACR,oBAAC,SAAD;AAAW,UAAA,QAAQ,EAAC,SAApB;AAA8B,UAAA,IAAI,EAAC,MAAnC;AAA0C,UAAA,OAAO,EAAC;AAAlD,UApBF;AAsBC,QAAA,EAAE,EAAE,MAAK7F,KAAL,EAtBL;AAuBC,QAAA,OAAO,EAAE,MAAK+F,gBAvBf;AAwBC,QAAA,MAAM,EAAE,MAAKC,eAxBd;AAyBC,QAAA,SAAS,EAAE,MAAKC,aAzBjB;AA0BC,QAAA,QAAQ,EAAE,MAAKC,WA1BhB;AA2BC,QAAA,OAAO,EAAE,mBAAM;AACd,gBAAK3D,eAAL;AACA,SA7BF;AA8BC,QAAA,QAAQ,EAAE,kBAACR,KAAD,EAAW;AACpB,cAAI,CAAClC,KAAK,CAACZ,SAAN,CAAgBqC,MAArB,EAA6B;AAC5B,kBAAK6E,iBAAL,CAAuBpE,KAAvB;AACA;AACD,SAlCF;AAmCC,QAAA,WAAW,EAAExE,MAAM,CAACI,mBAnCrB;AAoCC,QAAA,QAAQ,MApCT;AAqCC,QAAA,QAAQ,EAAEkC,KAAK,CAACb,QArCjB;AAsCC,QAAA,IAAI,EAAC,SAtCN;AAuCC,QAAA,KAAK,EAAEM;AAvCR,SAwCKqG,gBAAgB,CAACrI,KAxCtB,EAlBD,EA4DE,MAAK8I,SAAL,CAAe;AACfC,QAAAA,YAAY,EAAE,MAAKC,UAAL,CAAgB;AAAElL,UAAAA,aAAa,EAAbA,aAAF;AAAiBmC,UAAAA,MAAM,EAANA;AAAjB,SAAhB;AADC,OAAf,CA5DF,CADD,CADD,EAmEC,oBAAC,eAAD;AACC,QAAA,YAAY,EAAE,MAAKoD,KAAL,CAAWmE,oBAD1B;AAEC,QAAA,iBAAiB,EAAE,MAAKnE,KAAL,CAAWgE,yBAF/B;AAGC,QAAA,aAAa,EAAEvJ,aAHhB;AAIC,QAAA,MAAM,EAAE;AACPmL,UAAAA,UAAU,EAAE,MAAKC,cADV;AAEPC,UAAAA,WAAW,EAAE,MAAKC,8BAFX;AAGPC,UAAAA,WAAW,EAAE,MAAKC,eAHX;AAIPC,UAAAA,cAAc,EAAE,MAAKC,iCAJd;AAKPC,UAAAA,wBAAwB,EAAE,MAAKC,6BALxB;AAMPC,UAAAA,4BAA4B,EAAE,MAAKD,6BAN5B;AAOPE,UAAAA,eAAe,EAAE,MAAKC;AAPf,SAJT;AAaC,QAAA,EAAE,YAAK,MAAKnH,KAAL,EAAL,sBAbH;AAcC,QAAA,MAAM,EAAEzC,MAdT;AAeC,QAAA,kBAAkB,EAAE,MAAK6J,qBAf1B;AAgBC,QAAA,SAAS,EAAEvH,KAAK,CAACZ,SAhBlB;AAiBC,QAAA,eAAe,EAAE,MAAK0B,KAAL,CAAWmB,eAjB7B;AAkBC,QAAA,OAAO,EAAE,MAAKjC,KAAL,CAAWN,OAlBrB;AAmBC,QAAA,uBAAuB,EAAE;AAnB1B,QAnED,EAwFEM,KAAK,CAAC7C,SAAN,IACA;AAAK,QAAA,SAAS,EAAC;AAAf,SACC;AACC,QAAA,EAAE,EAAE,MAAK4I,UAAL,EADL;AAEC,QAAA,SAAS,EAAC;AAFX,SAIE/F,KAAK,CAAC7C,SAJR,CADD,CAzFF,CADD;AAqGA,KAxpCkB;;AAAA,2EA0pCI,kBAKjB;AAAA,UAJL5B,aAIK,UAJLA,aAIK;AAAA,UAHLmC,MAGK,UAHLA,MAGK;AAAA,UAFLsC,KAEK,UAFLA,KAEK;AAAA,UADL8F,gBACK,UADLA,gBACK;AACL,UAAMrG,KAAK,GAAIO,KAAK,CAACZ,SAAN,CAAgB,CAAhB,KAAsBY,KAAK,CAACZ,SAAN,CAAgB,CAAhB,EAAmB3D,KAA1C,IAAoD,EAAlE;AAEA;;AACA,aACC;AAAK,QAAA,SAAS,EAAC;AAAf,SACC;AAAK,QAAA,SAAS,EAAC;AAAf,SACC;AAAK;AACJ,QAAA,SAAS,EAAEzB,UAAU,CACpB,eADoB,EAEpB,uBAFoB,EAGpB,6BAHoB,EAIpB,6BAJoB,EAKpB;AACC,0BAAgB,MAAKoI,SAAL;AADjB,SALoB,EAQpB;AACC,4BAAkBpC,KAAK,CAAC7C;AADzB,SARoB,EAWpB6C,KAAK,CAAChE,SAXc,CADtB;AAcC,yBAAe,MAAKoG,SAAL,EAdhB;AAeC,yBAAc,SAff,CAeyB;AAfzB;AAgBC,QAAA,IAAI,EAAC;AAhBN,SAkBC,oBAAC,UAAD;AACC,6BAAkB,MADnB;AAEC,mCAAkB,MAAKjC,KAAL,EAAlB,aAFD;AAGC,iCACC,MAAKW,KAAL,CAAWM,YAAX,aACM,MAAKjB,KAAL,EADN,6BAEG,MAAKW,KAAL,CAAWM,YAAX,CAAwB5D,EAF3B,IAIG,IARL;AAUC,4BAAkB,MAAKuI,UAAL,EAVnB;AAWC,QAAA,YAAY,EAAC,KAXd;AAYC,QAAA,SAAS,EAAC,sBAZX;AAaC,QAAA,cAAc,EAAE;AACf,2BAAiB,MAAK3D,SAAL,EADF;AAEf,2BAAiB,SAFF;AAGfpG,UAAAA,SAAS,EAAE,6BAHI;AAIfgK,UAAAA,IAAI,EAAE;AAJS,SAbjB;AAmBC,QAAA,QAAQ,EAAE,MAAKhG,KAAL,CAAWV,mBAnBtB;AAoBC,QAAA,SAAS,EACR,oBAAC,SAAD;AAAW,UAAA,QAAQ,EAAC,SAApB;AAA8B,UAAA,IAAI,EAAC,MAAnC;AAA0C,UAAA,OAAO,EAAC;AAAlD,UArBF;AAuBC,QAAA,EAAE,EAAE,MAAKa,KAAL,EAvBL;AAwBC,QAAA,OAAO,EAAE,MAAK+F,gBAxBf;AAyBC,QAAA,MAAM,EAAE,MAAKC,eAzBd;AA0BC,QAAA,SAAS,EAAE,MAAKC,aA1BjB;AA2BC,QAAA,QAAQ,EAAE,MAAKC,WA3BhB;AA4BC,QAAA,OAAO,EAAE,mBAAM;AACd,gBAAK3D,eAAL;AACA,SA9BF;AA+BC,QAAA,QAAQ,EAAE,kBAACR,KAAD,EAAW;AACpB,cAAI,CAAClC,KAAK,CAACZ,SAAN,CAAgBqC,MAArB,EAA6B;AAC5B,kBAAK6E,iBAAL,CAAuBpE,KAAvB;AACA;AACD,SAnCF;AAoCC,QAAA,WAAW,EAAExE,MAAM,CAACI,mBApCrB;AAqCC,QAAA,QAAQ,MArCT;AAsCC,QAAA,QAAQ,EAAEkC,KAAK,CAACb,QAtCjB;AAuCC,QAAA,IAAI,EAAC,SAvCN;AAwCC,QAAA,KAAK,EACH,MAAK2B,KAAL,CAAWM,YAAX,IAA2B,MAAKN,KAAL,CAAWM,YAAX,CAAwB3F,KAApD,IACAgE;AA1CF,SA4CKqG,gBAAgB,CAACrI,KA5CtB,EAlBD,EAgEE,MAAK8I,SAAL,CAAe;AACfC,QAAAA,YAAY,EAAE,MAAKC,UAAL,CAAgB;AAAElL,UAAAA,aAAa,EAAbA,aAAF;AAAiBmC,UAAAA,MAAM,EAANA;AAAjB,SAAhB;AADC,OAAf,CAhEF,EAmEEsC,KAAK,CAAC7C,SAAN,IACA;AAAK,QAAA,EAAE,EAAE,MAAK4I,UAAL,EAAT;AAA4B,QAAA,SAAS,EAAC;AAAtC,SACE/F,KAAK,CAAC7C,SADR,CApEF,CADD,CADD,CADD;AA+EA,KAlvCkB;;AAGlB,UAAK2D,KAAL,GAAa;AACZM,MAAAA,YAAY,EAAEiB,SADF;AAEZhB,MAAAA,iBAAiB,EAAE,CAAC,CAFR;AAGZ;AACA4D,MAAAA,oBAAoB,EAClB,MAAKjF,KAAL,CAAWZ,SAAX,IAAwB,MAAKY,KAAL,CAAWZ,SAAX,CAAqB,CAArB,CAAzB,IAAqDiD,SAL1C;AAMZyC,MAAAA,yBAAyB,EAAE,CANf;AAOZ7C,MAAAA,eAAe,EAAE,KAPL;AAQZjE,MAAAA,MAAM,EAAE;AARI,KAAb;AAWA,UAAKmG,aAAL,GAAqB,IAAIvJ,SAAJ,EAArB;AACA,UAAK0J,OAAL,GAAejC,SAAf;AACA,UAAKhD,kBAAL,GAA0B,IAA1B;AAhBkB;AAiBlB;AAED;;;;;;;yCAIqB;AACpB;AACArE,MAAAA,UAAU,CAACC,QAAD,EAAW,KAAK+E,KAAhB,EAAuB9E,YAAvB,CAAV;AAEA,WAAKiG,WAAL,GAAmBlH,OAAO,CAACiO,QAAR,EAAnB;AACA,WAAKC,gBAAL,GAAwBlO,OAAO,CAACiO,QAAR,EAAxB;;AAEA,UAAI,KAAKlI,KAAL,CAAWhC,MAAf,EAAuB;AACtB,aAAK+D,QAAL,CAAc;AAAE/D,UAAAA,MAAM,EAAE,KAAKgC,KAAL,CAAWhC;AAArB,SAAd;AACA;AACD;;;8CAEyBoK,S,EAAW;AAAA;;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,UAAI,CAACvO,OAAO,CAAC,KAAKmG,KAAL,CAAWzB,OAAZ,EAAqB6J,SAAS,CAAC7J,OAA/B,CAAZ,EAAqD;AACpD,YAAM4G,KAAK,GAAGrL,SAAS,CAACsO,SAAS,CAAC7J,OAAX,EAAoB,UAAC8J,IAAD;AAAA,iBAC1CxO,OAAO,CAACwO,IAAD,EAAO,MAAI,CAACvH,KAAL,CAAWM,YAAlB,CADmC;AAAA,SAApB,CAAvB;;AAGA,YAAI+D,KAAK,KAAK,CAAC,CAAf,EAAkB;AACjB,eAAKpD,QAAL,CAAc;AAAEV,YAAAA,iBAAiB,EAAE8D;AAArB,WAAd;AACA,SAFD,MAEO;AACN,eAAKpD,QAAL,CAAc;AAAEX,YAAAA,YAAY,EAAEiB,SAAhB;AAA2BhB,YAAAA,iBAAiB,EAAE,CAAC;AAA/C,WAAd;AACA;AACD,OATD,MASO,IAAI,KAAKrB,KAAL,CAAWhC,MAAX,KAAsBoK,SAAS,CAACpK,MAApC,EAA4C;AAClD,aAAK+D,QAAL,CAAc;AAAE/D,UAAAA,MAAM,EAAEoK,SAAS,CAACpK;AAApB,SAAd;AACA,OAlBmC,CAoBpC;AACA;;;AACA,UAAMsK,oCAAoC,GACzC,KAAKtI,KAAL,CAAWZ,SAAX,IACA,KAAKY,KAAL,CAAWZ,SAAX,CAAqBqC,MAArB,KAAgC,CADhC,IAEA2G,SAAS,CAAChJ,SAAV,CAAoBqC,MAApB,GAA6B,CAH9B;;AAIA,UAAI6G,oCAAJ,EAA0C;AACzC,aAAKvG,QAAL,CAAc;AACbkD,UAAAA,oBAAoB,EAAEmD,SAAS,CAAChJ,SAAV,CAAoB,CAApB,CADT;AAEb0F,UAAAA,yBAAyB,EAAE;AAFd,SAAd;AAIA;AACD;;;2CAEsB;AACtB,UAAI3J,mBAAmB,KAAK,IAA5B,EAAkC;AACjCA,QAAAA,mBAAmB,GAAGkH,SAAtB;AACA;AACD;;;sCA0D2B;AAAA,UAAhBmE,YAAgB,UAAhBA,YAAgB;AAC3B;AACA,UAAMpI,YAAY,GAAG,KAAK4B,KAAL,CAAWuI,QAAX,GAClB,UADkB,GAElB,KAAKvI,KAAL,CAAW5B,YAFd,CAF2B,CAIC;;AAE5B,aAAO,CAAC,KAAK4B,KAAL,CAAWnB,QAAZ,IAAwB,KAAKuD,SAAL,EAAxB,GACN,oBAAC,MAAD;AACC,QAAA,KAAK,EAAC,aADP;AAEC,QAAA,OAAO,EAAE,KAAKoG,OAFf;AAGC,QAAA,kBAAkB,EAAE,KAAKxI,KAAL,CAAW1C,kBAHhC;AAIC,QAAA,cAAc,EAAE,KAAK0C,KAAL,CAAW/B,cAJ5B;AAKC,QAAA,OAAO,EAAE,KAAKqC,WALf;AAMC,QAAA,WAAW,EAAE,qBAAC4B,KAAD,EAAW;AACvB;AACAA,UAAAA,KAAK,CAACkD,cAAN;AACA,SATF;AAUC,QAAA,MAAM,EAAE,KAAKpE,UAVd;AAWC,QAAA,sBAAsB,EAAE,KAAKyH,gBAX9B;AAYC,QAAA,QAAQ,EAAErK,YAZX;AAaC,QAAA,cAAc,EAAE;AACfZ,UAAAA,EAAE,YAAK,KAAK2C,KAAL,EAAL,aADa;AAEf6F,UAAAA,IAAI,EAAE;AAFS;AAbjB,SAkBEQ,YAlBF,CADM,GAqBH,IArBJ;AAsBA;;;iCAEY;AACZ,aACC,KAAKxG,KAAL,CAAW,kBAAX,KACC,KAAKA,KAAL,CAAW7C,SAAX,IAAwB,KAAKgL,gBAF/B;AAIA;AAED;;;;;;6BA4kCS;AACR,UAAMnI,KAAK,GAAG,KAAKA,KAAnB,CADQ,CAER;;AACA,UAAMzE,aAAa,GAAG7B,MAAM,CAC3B,EAD2B,EAE3BiG,YAAY,CAACpE,aAFc,EAG3ByE,KAAK,CAACzE,aAHqB,CAA5B;AAKA,UAAMmC,MAAM,GAAGhE,MAAM,CAAC,EAAD,EAAKiG,YAAY,CAACjC,MAAlB,EAA0B,KAAKsC,KAAL,CAAWtC,MAArC,CAArB;AACA,UAAMgL,gBAAgB,GACrBhL,MAAM,CAACjC,KAAP,IAAiBF,aAAa,IAAIA,aAAa,CAACE,KADjD,CATQ,CAWR;;AACA,UAAMqK,gBAAgB,GAAG,EAAzB;;AACA,UAAI9F,KAAK,CAACvC,KAAV,EAAiB;AAChB;AACAqI,QAAAA,gBAAgB,CAACrI,KAAjB,GAAyBuC,KAAK,CAACvC,KAAN,CAAYuC,KAArC;AACA;;AACD,UAAM2I,mBAAmB,GAAG;AAC3BpN,QAAAA,aAAa,EAAbA,aAD2B;AAE3BmC,QAAAA,MAAM,EAANA,MAF2B;AAG3BsC,QAAAA,KAAK,EAAE,KAAKA,KAHe;AAI3B8F,QAAAA,gBAAgB,EAAhBA;AAJ2B,OAA5B;AAMA,UAAM8C,gBAAgB,GAAG,KAAK5I,KAAL,CAAW1B,QAAX,GAAsB,UAAtB,GAAmC,QAA5D;AACA,UAAMuK,UAAU,GAAG;AAClBhB,QAAAA,IAAI,EAAE;AACLvJ,UAAAA,QAAQ,EAAE,KAAKwK,UADV;AACsB;AAC3BC,UAAAA,MAAM,EAAE,KAAKD;AAFR,SADY;AAKlB,0BAAkB;AACjBxK,UAAAA,QAAQ,EAAE,KAAK0K,oBADE;AAEjBD,UAAAA,MAAM,EAAE,KAAKE;AAFI,SALA;AASlB/J,QAAAA,OAAO,EAAE;AACRZ,UAAAA,QAAQ,EAAE,KAAK4K,aADP;AACsB;AAC9BH,UAAAA,MAAM,EAAE,KAAKG;AAFL,SATS;AAalBpB,QAAAA,QAAQ,EAAE;AACTxJ,UAAAA,QAAQ,EAAE,KAAK6K,sBADN;AAETJ,UAAAA,MAAM,EAAE,KAAKK;AAFJ;AAbQ,OAAnB;AAkBA,UAAMC,aAAa,GAAGR,UAAU,CAAC,KAAK7I,KAAL,CAAWN,OAAZ,CAAV,CAA+BkJ,gBAA/B,CAAtB;AACA,aACC;AACC,QAAA,SAAS,EAAE5O,UAAU,CAAC,mBAAD,EAAsBgG,KAAK,CAAC5D,kBAA5B;AADtB,SAGC,oBAAC,KAAD;AACC,QAAA,aAAa,EAAE,KAAK4D,KAAL,CAAWzE,aAD3B;AAEC,QAAA,OAAO,EAAE,KAAK4E,KAAL,EAFV;AAGC,QAAA,KAAK,EAAEzC,MAAM,CAACjC,KAHf;AAIC,QAAA,QAAQ,EAAEuE,KAAK,CAACb;AAJjB,QAHD,EASE,KAAKa,KAAL,CAAW5C,qBAAX,IAAoCsL,gBAApC,GACA,oBAAC,qBAAD;AACC,QAAA,qBAAqB,EAAE,KAAK1I,KAAL,CAAW5C;AADnC,QADA,GAIG,IAbL,EAcEiM,aAAa,GACXR,UAAU,CAAC,KAAK7I,KAAL,CAAWN,OAAZ,CAAV,CAA+BkJ,gBAA/B,EACAD,mBADA,CADW,GAIXE,UAAU,CAAChB,IAAX,CAAgBvJ,QAAhB,CAAyBqK,mBAAzB,CAlBJ,CADD;AAsBA;;;;EAtzCqBnP,KAAK,CAAC8P,S;AAwzC7B;;;AAEAvJ,QAAQ,CAACwJ,YAAT,GAAwB;AACvBC,EAAAA,QAAQ,EAAE/P,SAAS,CAACiC;AADG,CAAxB;AAIAqE,QAAQ,CAAC0J,WAAT,GAAuBxO,QAAvB;AACA8E,QAAQ,CAACzE,SAAT,GAAqBA,SAArB;AACAyE,QAAQ,CAACJ,YAAT,GAAwBA,YAAxB;AAEA,eAAeI,QAAf","sourcesContent":["/* eslint-disable max-lines */\n/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n/* eslint-disable jsx-a11y/role-has-required-aria-props */\n/* eslint-disable max-lines */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport assign from 'lodash.assign';\nimport find from 'lodash.find';\nimport reject from 'lodash.reject';\nimport isEqual from 'lodash.isequal';\nimport findIndex from 'lodash.findindex';\n\nimport isFunction from 'lodash.isfunction';\n\nimport classNames from 'classnames';\n\nimport shortid from 'shortid';\n\nimport Button from '../button';\nimport Dialog from '../utilities/dialog';\nimport InnerInput from '../../components/input/private/inner-input';\nimport InputIcon from '../icon/input-icon';\nimport Menu from './private/menu';\nimport Label from '../forms/private/label';\nimport Popover from '../popover';\nimport SelectedListBox from '../pill-container/private/selected-listbox';\n\nimport FieldLevelHelpTooltip from '../tooltip/private/field-level-help-tooltip';\nimport KEYS from '../../utilities/key-code';\nimport KeyBuffer from '../../utilities/key-buffer';\nimport keyLetterMenuItemSelect from '../../utilities/key-letter-menu-item-select';\nimport mapKeyEventCallbacks from '../../utilities/key-callbacks';\nimport menuItemSelectScroll from '../../utilities/menu-item-select-scroll';\n\nimport checkProps from './check-props';\n\nimport { COMBOBOX } from '../../utilities/constants';\nimport componentDoc from './docs.json';\n\nlet currentOpenDropdown;\nconst documentDefined = typeof document !== 'undefined';\n\nconst propTypes = {\n\t/**\n\t * **Assistive text for accessibility**\n\t * This object is merged with the default props object on every render.\n\t * * `label`: This is used as a visually hidden label if, no `labels.label` is provided.\n\t * * `optionSelectedInMenu`: Added before selected menu items in Read-only variants (Picklists). The default is `Current Selection:`.\n\t * * `popoverLabel`: Used by popover variant, assistive text for the Popover aria-label.\n\t * * `removeSingleSelectedOption`: Used by inline-listbox, single-select variant to remove the selected item (pill). This is a button with focus. The default is `Remove selected option`.\n\t * * `removePill`: Used by multiple selection Comboboxes to remove a selected item (pill). Focus is on the pill. This is not a button. The default  is `, Press delete or backspace to remove`.\n\t * * `selectedListboxLabel`: This is a label for the selected listbox. The grouping of pills for multiple selection Comboboxes. The default is `Selected Options:`.\n\t * _Tested with snapshot testing._\n\t */\n\tassistiveText: PropTypes.shape({\n\t\tlabel: PropTypes.string,\n\t\toptionSelectedInMenu: PropTypes.string,\n\t\tpopoverLabel: PropTypes.string,\n\t\tremoveSingleSelectedOption: PropTypes.string,\n\t\tremovePill: PropTypes.string,\n\t\tselectedListboxLabel: PropTypes.string,\n\t}),\n\t/**\n\t * The `aria-describedby` attribute is used to indicate the IDs of the elements that describe the object. It is used to establish a relationship between widgets or groups and text that described them.\n\t * This is very similar to aria-labelledby: a label describes the essence of an object, while a description provides more information that the user might need. _Tested with snapshot testing._\n\t */\n\t'aria-describedby': PropTypes.string,\n\t/**\n\t * CSS classes to be added to tag with `.slds-combobox`. Uses `classNames` [API](https://github.com/JedWatson/classnames). _Tested with snapshot testing._\n\t */\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * CSS classes to be added to top level tag with `.slds-form-element` and not on `.slds-combobox_container`. Uses `classNames` [API](https://github.com/JedWatson/classnames). _Tested with snapshot testing._\n\t */\n\tclassNameContainer: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * CSS classes to be added to tag with `.slds-dropdown`. Uses `classNames` [API](https://github.com/JedWatson/classnames). Autocomplete/bass variant menu height should not scroll and should be determined by number items which should be no more than 10. _Tested with snapshot testing._\n\t */\n\tclassNameMenu: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * CSS classes to be added to tag with `.slds-dropdown__header`. Uses `classNames` [API](https://github.com/JedWatson/classnames).\n\t */\n\tclassNameMenuSubHeader: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * Event Callbacks\n\t * * `onBlur`: Called when `input` removes focus.\n\t * * `onChange`: Called when keyboard events occur within `input`\n\t * * `onClose`: Triggered when the menu has closed.\n\t * * `onFocus`: Called when `input` receives focus.\n\t * * `onOpen`: Triggered when the menu has opened.\n\t * * `onRequestClose`: Function called when the menu would like to hide. Please use with `isOpen`.\n\t * * `onRequestOpen`:  Function called when the menu would like to show. Please use with `isOpen`.\n\t * * `onRequestRemoveSelectedOption`: Function called when a single selection option is to be removed.\n\t * * `onSelect`: Function called when a menu item is selected\n\t * * `onSubmit`: Function called when user presses enter or submits the `input`\n\t * _Tested with Mocha testing._\n\t */\n\tevents: PropTypes.shape({\n\t\tonBlur: PropTypes.func,\n\t\tonChange: PropTypes.func,\n\t\tonClose: PropTypes.func,\n\t\tonFocus: PropTypes.func,\n\t\tonOpen: PropTypes.func,\n\t\tonRequestClose: PropTypes.func,\n\t\tonRequestOpen: PropTypes.func,\n\t\tonRequestRemoveSelectedOption: PropTypes.func,\n\t\tonSelect: PropTypes.func,\n\t\tonSubmit: PropTypes.func,\n\t}),\n\t/**\n\t * Message to display when the input is in an error state. When this is present, also visually highlights the component as in error. _Tested with snapshot testing._\n\t */\n\terrorText: PropTypes.string,\n\t/**\n\t * A [Tooltip](https://react.lightningdesignsystem.com/components/tooltips/) component that is displayed next to the `labels.label`. The props from the component will be merged and override any default props.\n\t */\n\tfieldLevelHelpTooltip: PropTypes.node,\n\t/**\n\t * By default, dialogs will flip their alignment (such as bottom to top) if they extend beyond a boundary element such as a scrolling parent or a window/viewpoint. `hasStaticAlignment` disables this behavior and allows this component to extend beyond boundary elements. _Not tested._\n\t */\n\thasStaticAlignment: PropTypes.bool,\n\t/**\n\t * HTML id for component. _Tested with snapshot testing._\n\t */\n\tid: PropTypes.string,\n\t/**\n\t * An [Input](https://react.lightningdesignsystem.com/components/inputs) component.\n\t * The props from this component will override any default props.\n\t */\n\tinput: PropTypes.node,\n\t/**\n\t * **Text labels for internationalization**\n\t * This object is merged with the default props object on every render.\n\t * * `label`: This label appears above the input.\n\t * * `cancelButton`: This label is only used by the dialog variant for the cancel button in the footer of the dialog. The default is `Cancel`\n\t * * `doneButton`: This label is only used by the dialog variant for the done button in the footer of the dialog. The default is `Done`\n\t * * `multipleOptionsSelected`: This label is used by the readonly variant when multiple options are selected. The default is `${props.selection.length} options selected`. This will override the entire string.\n\t * * `noOptionsFound`: Custom message that renders when no matches found. The default empty state is just text that says, 'No matches found.'.\n\t * * `placeholder`: Input placeholder\n\t * * `placeholderReadOnly`: Placeholder for Picklist-like Combobox\n\t * * `removePillTitle`: Title on `X` icon\n\t * _Tested with snapshot testing._\n\t */\n\tlabels: PropTypes.shape({\n\t\tlabel: PropTypes.oneOfType([PropTypes.node, PropTypes.string]),\n\t\tmultipleOptionsSelected: PropTypes.string,\n\t\tnoOptionsFound: PropTypes.oneOfType([PropTypes.node, PropTypes.string]),\n\t\tplaceholder: PropTypes.string,\n\t\tplaceholderReadOnly: PropTypes.string,\n\t\tremovePillTitle: PropTypes.string,\n\t}),\n\t/**\n\t * Forces the dropdown to be open or closed. See controlled/uncontrolled callback/prop pattern for more on suggested use view [Concepts and Best Practices](https://github.com/salesforce-ux/design-system-react/blob/master/CONTRIBUTING.md#concepts-and-best-practices) _Tested with snapshot testing._\n\t */\n\tisOpen: PropTypes.bool,\n\t/**\n\t * Sets the dialog width to the width of one of the following:\n\t * * `target`: Sets the dialog width to the width of the target. (Menus attached to `input` typically follow this UX pattern),\n\t * * `menu`: Consider setting a `menuMaxWidth` if using this value. If not, width will be set to width of largest menu item.\n\t * * `none`: Does not set a width on the dialog. _Tested with snapshot testing._\n\t */\n\tinheritWidthOf: PropTypes.oneOf(['target', 'menu', 'none']),\n\t/**\n\t * Accepts a custom menu item rendering function that becomes a custom component. It should return a React node. The checkmark is still rendered in readonly variants. This function is passed the following props:\n\t * * `assistiveText`: Object, `assistiveText` prop that is passed into Combobox\n\t * * `option`: Object, option data for item being rendered that is passed into Combobox\n\t * * `selected`: Boolean, allows rendering of `assistiveText.optionSelectedInMenu` in Readonly Combobox\n\t *\n\t * _Tested with snapshot testing._\n\t */\n\tonRenderMenuItem: PropTypes.func,\n\t/**\n\t * Please select one of the following:\n\t * * `absolute` - (default) The dialog will use `position: absolute` and style attributes to position itself. This allows inverted placement or flipping of the dialog.\n\t * * `overflowBoundaryElement` - The dialog will overflow scrolling parents. Use on elements that are aligned to the left or right of their target and don't care about the target being within a scrolling parent. Typically this is a popover or tooltip. Dropdown menus can usually open up and down if no room exists. In order to achieve this a portal element will be created and attached to `body`. This element will render into that detached render tree.\n\t * * `relative` - No styling or portals will be used. Menus will be positioned relative to their triggers. This is a great choice for HTML snapshot testing.\n\t */\n\tmenuPosition: PropTypes.oneOf([\n\t\t'absolute',\n\t\t'overflowBoundaryElement',\n\t\t'relative',\n\t]),\n\t/**\n\t * Sets a maximum width that the menu will be used if `inheritWidthOf` is set to `menu`. (Example: 500px) _Tested with snapshot testing._\n\t *\n\t */\n\tmenuMaxWidth: PropTypes.string,\n\t/**\n\t * Allows multiple selections _Tested with mocha testing._\n\t */\n\tmultiple: PropTypes.bool,\n\t/**\n\t * **Array of item objects in the dropdown menu.**\n\t * Each object can contain:\n\t * * `icon`: An `Icon` component. (not used in read-only variant)\n\t * * `id`: A unique identifier string.\n\t * * `label`: A primary string of text for a menu item or group separator.\n\t * * `subTitle`: A secondary string of text added for clarity. (optional)\n\t * * `type`: 'separator' is the only type currently used\n\t * * `disabled`: Set to true to disable this menu item.\n\t * * `tooltipContent`: Content that is displayed in tooltip when item is disabled\n\t * ```\n\t * {\n\t * \tid: '2',\n\t * \tlabel: 'Salesforce.com, Inc.',\n\t * \tsubTitle: 'Account • San Francisco',\n\t * \ttype: 'account',\n\t *  disabled: true,\n\t *  tooltipContent: \"You don't have permission to select this item.\"\n\t * },\n\t * ```\n\t * Note: At the moment, Combobox does not support two consecutive separators. _Tested with snapshot testing._\n\t */\n\toptions: PropTypes.arrayOf(\n\t\tPropTypes.PropTypes.shape({\n\t\t\tid: PropTypes.string.isRequired,\n\t\t\ticon: PropTypes.node,\n\t\t\tlabel: PropTypes.string,\n\t\t\tsubTitle: PropTypes.string,\n\t\t\ttype: PropTypes.string,\n\t\t\tdisabled: PropTypes.boolean,\n\t\t\ttooltipContent: PropTypes.node,\n\t\t})\n\t),\n\t/**\n\t * Determines the height of the menu based on SLDS CSS classes. This only applies to the readonly variant. This is a `number`.\n\t */\n\treadOnlyMenuItemVisibleLength: PropTypes.oneOf([5, 7, 10]),\n\t/**\n\t * Limits auto-complete input submission to one of the provided options. _Tested with mocha testing._\n\t */\n\tpredefinedOptionsOnly: PropTypes.bool,\n\t/**\n\t * A `Popover` component. The props from this popover will be merged and override any default props. This also allows a Combobox's Popover dialog to be a controlled component. _Tested with snapshot testing._\n\t */\n\tpopover: PropTypes.node,\n\t/**\n\t * Applies label styling for a required form element. _Tested with snapshot testing._\n\t */\n\trequired: PropTypes.bool,\n\t/**\n\t * Accepts an array of item objects. For single selection, pass in an array of one object. For item object keys, see `options` prop. _Tested with snapshot testing._\n\t */\n\tselection: PropTypes.arrayOf(\n\t\tPropTypes.PropTypes.shape({\n\t\t\tid: PropTypes.string.isRequired,\n\t\t\ticon: PropTypes.node,\n\t\t\tlabel: PropTypes.string,\n\t\t\tsubTitle: PropTypes.string,\n\t\t\ttype: PropTypes.string,\n\t\t})\n\t).isRequired,\n\t/**\n\t * This callback exposes the selected listbox reference / DOM node to parent components.\n\t */\n\tselectedListboxRef: PropTypes.func,\n\t/**\n\t * Disables the input and prevents editing the contents. This only applies for single readonly and inline-listbox variants.\n\t */\n\tsingleInputDisabled: PropTypes.bool,\n\t/**\n\t * Accepts a tooltip that is displayed when hovering on disabled menu items.\n\t */\n\ttooltipMenuItemDisabled: PropTypes.element,\n\t/**\n\t * Value of input. _This is a controlled component,_ so you will need to control the input value by passing the `value` from `onChange` to a parent component or state manager, and then pass it back into the componet with this prop. Please see examples for more clarification. _Tested with snapshot testing._\n\t */\n\tvalue: PropTypes.string,\n\t/**\n\t * Changes styles of the input and menu. Currently `entity` is not supported.\n\t * The options are:\n\t * * `base`: An autocomplete Combobox also allows a user to select an option from a list, but that list can be affected by what the user types into the input of the Combobox. The SLDS website used to call the autocomplete Combobox its `base` variant.\n\t * * `inline-listbox`: An Entity Autocomplete Combobox or Lookup, is used to search for and select Salesforce Entities.\n\t * * `popover`: A dialog Combobox is best used when a listbox, tree, grid, or tree-grid is not the best solution. This variant allows custom content.\n\t * * `readonly`: A readonly text input that allows a user to select an option from a pre-defined list of options. It does not allow free form user input, nor does it allow the user to modify the selected value.\n\t *\n\t *  _Tested with snapshot testing._\n\t */\n\tvariant: PropTypes.oneOf(['base', 'inline-listbox', 'popover', 'readonly']),\n};\n\nconst defaultProps = {\n\tassistiveText: {\n\t\toptionSelectedInMenu: 'Current Selection:',\n\t\tremoveSingleSelectedOption: 'Remove selected option',\n\t\tremovePill: ', Press delete or backspace to remove',\n\t\tselectedListboxLabel: 'Selected Options:',\n\t},\n\tevents: {},\n\tlabels: {\n\t\tcancelButton: 'Cancel',\n\t\tdoneButton: `Done`,\n\t\tnoOptionsFound: 'No matches found.',\n\t\toptionDisabledTooltipLabel: 'This option is disabled.',\n\t\tplaceholderReadOnly: 'Select an Option',\n\t\tremovePillTitle: 'Remove',\n\t},\n\tinheritWidthOf: 'target',\n\tmenuPosition: 'absolute',\n\treadOnlyMenuItemVisibleLength: 5,\n\trequired: false,\n\tselection: [],\n\tsingleInputDisabled: false,\n\tvariant: 'base',\n};\n\n/**\n * A widget that provides a user with an input field that is either an autocomplete or readonly, accompanied with a listbox of pre-definfined options.\n */\nclass Combobox extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactiveOption: undefined,\n\t\t\tactiveOptionIndex: -1,\n\t\t\t// seeding initial state with this.props.selection[0]\n\t\t\tactiveSelectedOption:\n\t\t\t\t(this.props.selection && this.props.selection[0]) || undefined,\n\t\t\tactiveSelectedOptionIndex: 0,\n\t\t\tlistboxHasFocus: false,\n\t\t\tisOpen: false,\n\t\t};\n\n\t\tthis.menuKeyBuffer = new KeyBuffer();\n\t\tthis.menuRef = undefined;\n\t\tthis.selectedListboxRef = null;\n\t}\n\n\t/**\n\t * Lifecycle methods\n\t */\n\n\tcomponentWillMount() {\n\t\t// `checkProps` issues warnings to developers about properties (similar to React's built in development tools)\n\t\tcheckProps(COMBOBOX, this.props, componentDoc);\n\n\t\tthis.generatedId = shortid.generate();\n\t\tthis.generatedErrorId = shortid.generate();\n\n\t\tif (this.props.isOpen) {\n\t\t\tthis.setState({ isOpen: this.props.isOpen });\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\t// This logic will maintain the active highlight even when the\n\t\t// option order changes. One example would be the server pushes\n\t\t// data out as the user has the menu open. This logic clears\n\t\t// `activeOption` if the active option is no longer in the options\n\t\t// list. If it's in the options list, then find the new index and\n\t\t// set `activeOptionIndex`\n\t\tif (!isEqual(this.props.options, nextProps.options)) {\n\t\t\tconst index = findIndex(nextProps.options, (item) =>\n\t\t\t\tisEqual(item, this.state.activeOption)\n\t\t\t);\n\t\t\tif (index !== -1) {\n\t\t\t\tthis.setState({ activeOptionIndex: index });\n\t\t\t} else {\n\t\t\t\tthis.setState({ activeOption: undefined, activeOptionIndex: -1 });\n\t\t\t}\n\t\t} else if (this.props.isOpen !== nextProps.isOpen) {\n\t\t\tthis.setState({ isOpen: nextProps.isOpen });\n\t\t}\n\n\t\t// there may be issues with tabindex/focus if the app removes an item\n\t\t// from selection while the user is using the listbox\n\t\tconst selectedOptionsRenderIsInitialRender =\n\t\t\tthis.props.selection &&\n\t\t\tthis.props.selection.length === 0 &&\n\t\t\tnextProps.selection.length > 0;\n\t\tif (selectedOptionsRenderIsInitialRender) {\n\t\t\tthis.setState({\n\t\t\t\tactiveSelectedOption: nextProps.selection[0],\n\t\t\t\tactiveSelectedOptionIndex: 0,\n\t\t\t});\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (currentOpenDropdown === this) {\n\t\t\tcurrentOpenDropdown = undefined;\n\t\t}\n\t}\n\n\tgetCustomPopoverProps = (body, { assistiveText, labels }) => {\n\t\t/*\n\t\t * Generate the popover props based on passed in popover props. Using the default behavior if not provided by passed in popover\n\t\t */\n\t\tconst popoverBody = (\n\t\t\t<div>\n\t\t\t\t<div className=\"slds-assistive-text\" id={`${this.getId()}-label`}>\n\t\t\t\t\t{assistiveText.popoverLabel}\n\t\t\t\t</div>\n\t\t\t\t{body}\n\t\t\t</div>\n\t\t);\n\n\t\tconst popoverFooter = (\n\t\t\t<div>\n\t\t\t\t<Button\n\t\t\t\t\tlabel={labels.cancelButton}\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\tthis.handleClose(e, { trigger: 'cancel' });\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\tlabel={labels.doneButton}\n\t\t\t\t\tvariant=\"brand\"\n\t\t\t\t\tonClick={this.handleClose}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\n\t\tconst defaultPopoverProps = {\n\t\t\tariaLabelledby: `${this.getId()}-label`,\n\t\t\talign: 'bottom',\n\t\t\tbody: popoverBody,\n\t\t\tclassName: 'slds-popover_full-width',\n\t\t\tfooter: popoverFooter,\n\t\t\tfooterClassName: 'slds-popover__footer_form',\n\t\t\thasNoNubbin: true,\n\t\t\tid: `${this.getId()}`,\n\t\t\tisOpen: this.state.isOpen,\n\t\t\thasNoTriggerStyles: true,\n\t\t\tonOpen: this.handleOpen,\n\t\t\tonClose: this.handleClose,\n\t\t\tonRequestClose: this.handleClose,\n\t\t};\n\n\t\t/* Merge in passed popover's props if there is any to override the default popover props */\n\t\tconst popoverProps = assign(\n\t\t\tdefaultPopoverProps,\n\t\t\tthis.props.popover ? this.props.popover.props : {}\n\t\t);\n\t\tpopoverProps.body = popoverBody;\n\n\t\tdelete popoverProps.children;\n\t\treturn popoverProps;\n\t};\n\n\tgetDialog({ menuRenderer }) {\n\t\t// FOR BACKWARDS COMPATIBILITY\n\t\tconst menuPosition = this.props.isInline\n\t\t\t? 'relative'\n\t\t\t: this.props.menuPosition; // eslint-disable-line react/prop-types\n\n\t\treturn !this.props.disabled && this.getIsOpen() ? (\n\t\t\t<Dialog\n\t\t\t\talign=\"bottom left\"\n\t\t\t\tcontext={this.context}\n\t\t\t\thasStaticAlignment={this.props.hasStaticAlignment}\n\t\t\t\tinheritWidthOf={this.props.inheritWidthOf}\n\t\t\t\tonClose={this.handleClose}\n\t\t\t\tonMouseDown={(event) => {\n\t\t\t\t\t// prevent onBlur\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}}\n\t\t\t\tonOpen={this.handleOpen}\n\t\t\t\tonRequestTargetElement={this.getTargetElement}\n\t\t\t\tposition={menuPosition}\n\t\t\t\tcontainerProps={{\n\t\t\t\t\tid: `${this.getId()}-listbox`,\n\t\t\t\t\trole: 'listbox',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{menuRenderer}\n\t\t\t</Dialog>\n\t\t) : null;\n\t}\n\n\tgetErrorId() {\n\t\treturn (\n\t\t\tthis.props['aria-describedby'] ||\n\t\t\t(this.props.errorText && this.generatedErrorId)\n\t\t);\n\t}\n\n\t/**\n\t * Shared class property getter methods\n\t */\n\n\tgetId = () => this.props.id || this.generatedId;\n\n\tgetIsActiveOption = () =>\n\t\tthis.state.activeOption && this.state.activeOptionIndex !== -1;\n\n\tgetIsOpen = () =>\n\t\t!!(typeof this.props.isOpen === 'boolean'\n\t\t\t? this.props.isOpen\n\t\t\t: this.state.isOpen);\n\n\tgetNewActiveOptionIndex = ({ activeOptionIndex, offset, options }) => {\n\t\t// used by menu listbox and selected options listbox\n\t\tconst nextIndex = activeOptionIndex + offset;\n\t\tconst skipIndex =\n\t\t\toptions.length > nextIndex &&\n\t\t\tnextIndex >= 0 &&\n\t\t\toptions[nextIndex].type === 'separator';\n\t\tconst newIndex = skipIndex ? nextIndex + offset : nextIndex;\n\t\tconst hasNewIndex = options.length > nextIndex && nextIndex >= 0;\n\t\treturn hasNewIndex ? newIndex : activeOptionIndex;\n\t};\n\n\tgetTargetElement = () => this.inputRef;\n\n\tsetInputRef = (component) => {\n\t\tthis.inputRef = component;\n\t\t// yes, this is a render triggered by a render.\n\t\t// Dialog/Popper.js cannot place the menu until\n\t\t// the trigger/target DOM node is mounted. This\n\t\t// way `findDOMNode` is not called and parent\n\t\t// DOM nodes are not queried.\n\t\tif (!this.state.inputRendered) {\n\t\t\tthis.setState({ inputRendered: true });\n\t\t}\n\t};\n\n\tsetSelectedListboxRef = (ref) => {\n\t\tthis.selectedListboxRef = ref;\n\t\tif (this.props.selectedListboxRef) {\n\t\t\tthis.props.selectedListboxRef(ref);\n\t\t}\n\t};\n\n\thandleBlurPill = () => {\n\t\tthis.setState({ listboxHasFocus: false });\n\t};\n\n\t/**\n\t * Menu open/close and sub-render methods\n\t */\n\thandleClickOutside = (event) => {\n\t\tthis.handleRequestClose(event, {});\n\t};\n\n\thandleClose = (event, { trigger } = {}) => {\n\t\tconst isOpen = this.getIsOpen();\n\n\t\tif (isOpen) {\n\t\t\tif (currentOpenDropdown === this) {\n\t\t\t\tcurrentOpenDropdown = undefined;\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tactiveOption: undefined,\n\t\t\t\tactiveOptionIndex: -1,\n\t\t\t\tisOpen: false,\n\t\t\t});\n\n\t\t\tif (this.props.variant === 'popover' && trigger === 'cancel') {\n\t\t\t\tif (this.props.popover.props.onClose) {\n\t\t\t\t\tthis.props.popover.props.onClose(event, { trigger });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.props.events.onClose) {\n\t\t\t\tthis.props.events.onClose(event, {});\n\t\t\t}\n\t\t}\n\t};\n\n\thandleInputBlur = (event) => {\n\t\t// If menu is open when the input's onBlur event fires, it will close before the onClick of the menu item can fire.\n\t\tsetTimeout(() => {\n\t\t\tconst activeElement = documentDefined ? document.activeElement : false;\n\t\t\t// detect if the scrollbar of the combobox-autocomplete/lookup menu is clicked in IE11. If it is, return focus to input, and do not close menu.\n\t\t\tif (\n\t\t\t\tactiveElement &&\n\t\t\t\tactiveElement.tagName === 'DIV' &&\n\t\t\t\tactiveElement.id === `${this.getId()}-listbox`\n\t\t\t) {\n\t\t\t\tif (this.inputRef) {\n\t\t\t\t\tthis.inputRef.focus();\n\t\t\t\t}\n\t\t\t} else if (!this.props.popover) {\n\t\t\t\tthis.handleClose(event);\n\t\t\t}\n\t\t}, 200);\n\n\t\tif (this.props.events.onBlur) {\n\t\t\tthis.props.events.onBlur(event);\n\t\t}\n\t};\n\n\thandleInputChange = (event) => {\n\t\tthis.requestOpenMenu();\n\t\tif (this.props.events && this.props.events.onChange) {\n\t\t\tthis.props.events.onChange(event, { value: event.target.value });\n\t\t}\n\t};\n\n\thandleInputFocus = (event) => {\n\t\tif (this.props.events.onFocus) {\n\t\t\tthis.props.events.onFocus(event, {});\n\t\t}\n\t};\n\n\thandleInputSubmit = (event) => {\n\t\tif (this.state.activeOption && this.state.activeOption.disabled) {\n\t\t\treturn;\n\t\t}\n\n\t\t// use menu options\n\t\tif (this.getIsActiveOption()) {\n\t\t\tthis.handleSelect(event, {\n\t\t\t\toption: this.state.activeOption,\n\t\t\t\tselection: this.props.selection,\n\t\t\t});\n\t\t\t// use input value, if not limited to predefined options (in the menu)\n\t\t} else if (\n\t\t\t!this.props.predefinedOptionsOnly &&\n\t\t\tevent.target.value !== '' &&\n\t\t\tthis.props.events.onSubmit\n\t\t) {\n\t\t\tthis.props.events.onSubmit(event, {\n\t\t\t\tvalue: event.target.value,\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Input and menu keyboard event methods\n\t */\n\n\thandleKeyDown = (event) => {\n\t\tconst callbacks = {\n\t\t\t[KEYS.DOWN]: { callback: this.handleKeyDownDown },\n\t\t\t[KEYS.ENTER]: { callback: this.handleInputSubmit },\n\t\t\t[KEYS.ESCAPE]: { callback: this.handleClose },\n\t\t\t[KEYS.UP]: { callback: this.handleKeyDownUp },\n\t\t};\n\n\t\tif (this.props.variant === 'readonly') {\n\t\t\tif (this.props.selection.length > 2) {\n\t\t\t\tcallbacks[KEYS.TAB] = { callback: this.handleKeyDownTab };\n\t\t\t} else {\n\t\t\t\tcallbacks[KEYS.TAB] = undefined;\n\t\t\t}\n\t\t\tcallbacks.other = {\n\t\t\t\tcallback: this.handleKeyDownOther,\n\t\t\t\tstopPropagation: false,\n\t\t\t};\n\t\t}\n\n\t\t// Helper function that takes an object literal of callbacks that are triggered with a key event\n\t\tmapKeyEventCallbacks(event, { callbacks });\n\t};\n\n\thandleKeyDownDown = (event) => {\n\t\t// Don't open if user is selecting text\n\t\tif (!event.shiftKey) {\n\t\t\tthis.openDialog();\n\t\t}\n\n\t\tif (this.props.variant !== 'popover') {\n\t\t\tthis.handleNavigateListboxMenu(event, { direction: 'next' });\n\t\t}\n\t};\n\n\thandleKeyDownTab = () => {\n\t\tif (this.selectedListboxRef) {\n\t\t\tthis.setState({\n\t\t\t\tlistboxHasFocus: true,\n\t\t\t});\n\t\t}\n\t};\n\n\thandleKeyDownUp = (event) => {\n\t\t// Don't open if user is selecting text\n\t\tif (!event.shiftKey && this.state.isOpen) {\n\t\t\tthis.handleNavigateListboxMenu(event, { direction: 'previous' });\n\t\t}\n\t};\n\n\thandleKeyDownOther = (event) => {\n\t\tconst activeOptionIndex = keyLetterMenuItemSelect({\n\t\t\tkey: event.key,\n\t\t\tkeyBuffer: this.menuKeyBuffer,\n\t\t\tkeyCode: event.keyCode,\n\t\t\toptions: this.props.options,\n\t\t});\n\n\t\tif (activeOptionIndex !== undefined) {\n\t\t\tif (this.state.isOpen) {\n\t\t\t\tmenuItemSelectScroll({\n\t\t\t\t\tcontainer: this.menuRef,\n\t\t\t\t\tfocusedIndex: activeOptionIndex,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tactiveOption: this.props.options[activeOptionIndex],\n\t\t\t\tactiveOptionIndex,\n\t\t\t});\n\t\t}\n\t};\n\n\thandleNavigateListboxMenu = (event, { direction }) => {\n\t\tconst offsets = { next: 1, previous: -1 };\n\t\t// takes current/previous state and returns an object with the new state\n\t\tthis.setState((prevState) => {\n\t\t\tconst newIndex = this.getNewActiveOptionIndex({\n\t\t\t\tactiveOptionIndex: prevState.activeOptionIndex,\n\t\t\t\toffset: offsets[direction],\n\t\t\t\toptions: this.props.options,\n\t\t\t});\n\n\t\t\tif (this.state.isOpen) {\n\t\t\t\tmenuItemSelectScroll({\n\t\t\t\t\tcontainer: this.menuRef,\n\t\t\t\t\tfocusedIndex: newIndex,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tactiveOption: this.props.options[newIndex],\n\t\t\t\tactiveOptionIndex: newIndex,\n\t\t\t};\n\t\t});\n\t};\n\n\thandleNavigateSelectedListbox = (event, { direction }) => {\n\t\tconst offsets = { next: 1, previous: -1 };\n\t\tthis.setState((prevState) => {\n\t\t\tconst isLastOptionAndRightIsPressed =\n\t\t\t\tprevState.activeSelectedOptionIndex + 1 ===\n\t\t\t\t\tthis.props.selection.length && direction === 'next';\n\t\t\tconst isFirstOptionAndLeftIsPressed =\n\t\t\t\tprevState.activeSelectedOptionIndex === 0 && direction === 'previous';\n\t\t\tlet newState;\n\n\t\t\tif (isLastOptionAndRightIsPressed) {\n\t\t\t\tnewState = {\n\t\t\t\t\tactiveSelectedOption: this.props.selection[0],\n\t\t\t\t\tactiveSelectedOptionIndex: 0,\n\t\t\t\t\tlistboxHasFocus: true,\n\t\t\t\t};\n\t\t\t} else if (isFirstOptionAndLeftIsPressed) {\n\t\t\t\tnewState = {\n\t\t\t\t\tactiveSelectedOption: this.props.selection[\n\t\t\t\t\t\tthis.props.selection.length - 1\n\t\t\t\t\t],\n\t\t\t\t\tactiveSelectedOptionIndex: this.props.selection.length - 1,\n\t\t\t\t\tlistboxHasFocus: true,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tconst newIndex = this.getNewActiveOptionIndex({\n\t\t\t\t\tactiveOptionIndex: prevState.activeSelectedOptionIndex,\n\t\t\t\t\toffset: offsets[direction],\n\t\t\t\t\toptions: this.props.selection,\n\t\t\t\t});\n\t\t\t\tnewState = {\n\t\t\t\t\tactiveSelectedOption: this.props.selection[newIndex],\n\t\t\t\t\tactiveSelectedOptionIndex: newIndex,\n\t\t\t\t\tlistboxHasFocus: true,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn newState;\n\t\t});\n\t};\n\n\thandleOpen = (event, data) => {\n\t\tconst isOpen = this.getIsOpen();\n\n\t\tif (!isOpen) {\n\t\t\tif (currentOpenDropdown && isFunction(currentOpenDropdown.handleClose)) {\n\t\t\t\tcurrentOpenDropdown.handleClose();\n\t\t\t}\n\t\t} else {\n\t\t\tcurrentOpenDropdown = this;\n\n\t\t\tthis.setState({\n\t\t\t\tisOpen: true,\n\t\t\t});\n\n\t\t\tif (this.props.events.onOpen) {\n\t\t\t\tthis.props.events.onOpen(event, data);\n\t\t\t}\n\t\t}\n\t};\n\n\thandlePillClickSelectedListbox = (event, { option, index }) => {\n\t\t// this is clicking the span, not the remove button\n\t\tthis.setState({\n\t\t\tactiveSelectedOption: option,\n\t\t\tactiveSelectedOptionIndex: index,\n\t\t\tlistboxHasFocus: true,\n\t\t});\n\t};\n\n\thandlePillFocus = () => {\n\t\tif (!this.state.listboxHasFocus) {\n\t\t\tthis.setState({ listboxHasFocus: true });\n\t\t}\n\t};\n\n\t/**\n\t * Selected options with selected listbox event methods\n\t */\n\n\thandleRemoveSelectedOption = (event, { option, index }) => {\n\t\tevent.preventDefault();\n\t\tconst onlyOnePillAndInputExists = this.props.selection.length === 1;\n\t\tconst isReadOnlyAndTwoPillsExists =\n\t\t\tthis.props.selection.length === 2 &&\n\t\t\tthis.props.variant === 'readonly' &&\n\t\t\tthis.props.multiple;\n\t\tconst lastPillWasRemoved = index + 1 === this.props.selection.length;\n\n\t\tif (\n\t\t\t(onlyOnePillAndInputExists || isReadOnlyAndTwoPillsExists) &&\n\t\t\tthis.inputRef\n\t\t) {\n\t\t\tthis.inputRef.focus();\n\t\t} else if (lastPillWasRemoved) {\n\t\t\t// set focus to previous option and index\n\t\t\tthis.setState({\n\t\t\t\tactiveSelectedOption: this.props.selection[index - 1],\n\t\t\t\tactiveSelectedOptionIndex: index - 1,\n\t\t\t\tlistboxHasFocus: true,\n\t\t\t});\n\t\t} else {\n\t\t\t// set focus to next option, but same index\n\t\t\tthis.setState({\n\t\t\t\tactiveSelectedOption: this.props.selection[index + 1],\n\t\t\t\tactiveSelectedOptionIndex: index,\n\t\t\t\tlistboxHasFocus: true,\n\t\t\t});\n\t\t}\n\n\t\tif (this.props.events.onRequestRemoveSelectedOption) {\n\t\t\tthis.props.events.onRequestRemoveSelectedOption(event, {\n\t\t\t\tselection: reject(this.props.selection, option),\n\t\t\t});\n\t\t}\n\t};\n\n\thandleRequestClose = (event, data) => {\n\t\tif (this.props.events.onRequestClose) {\n\t\t\tthis.props.events.onRequestClose(event, data);\n\t\t}\n\n\t\tif (this.getIsOpen()) {\n\t\t\tthis.setState({ isOpen: false });\n\t\t}\n\t};\n\n\thandleRequestFocusSelectedListbox = (event, { ref }) => {\n\t\tif (ref) {\n\t\t\tthis.activeSelectedOptionRef = ref;\n\t\t\tthis.activeSelectedOptionRef.focus();\n\t\t}\n\t};\n\n\thandleSelect = (event, { selection, option }) => {\n\t\tlet newSelection;\n\t\tconst isSelected = this.isSelected({ selection, option });\n\t\tconst singleSelectAndSelectedWasNotClicked =\n\t\t\t!this.props.multiple && !isSelected;\n\t\tconst multiSelectAndSelectedWasNotClicked =\n\t\t\tthis.props.multiple && !isSelected;\n\n\t\tif (singleSelectAndSelectedWasNotClicked) {\n\t\t\tnewSelection = [option];\n\t\t} else if (multiSelectAndSelectedWasNotClicked) {\n\t\t\tnewSelection = [...this.props.selection, option];\n\t\t} else {\n\t\t\tnewSelection = reject(this.props.selection, option);\n\t\t}\n\n\t\tif (this.props.events.onSelect) {\n\t\t\tthis.props.events.onSelect(event, { selection: newSelection });\n\t\t}\n\n\t\tthis.handleClose();\n\n\t\t// if (this.inputRef) {\n\t\t// \tthis.inputRef.focus();\n\t\t// }\n\t};\n\n\tisSelected = ({ selection, option }) => !!find(selection, option);\n\n\topenDialog = () => {\n\t\tif (this.props.events.onRequestOpen) {\n\t\t\tthis.props.events.onRequestOpen();\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tisOpen: true,\n\t\t\t});\n\t\t}\n\t};\n\n\trequestOpenMenu = () => {\n\t\tconst isInlineSingleSelectionAndIsNotSelected =\n\t\t\t!this.props.multiple &&\n\t\t\tthis.props.selection.length === 0 &&\n\t\t\tthis.props.variant === 'inline-listbox';\n\n\t\tif (\n\t\t\tisInlineSingleSelectionAndIsNotSelected ||\n\t\t\tthis.props.multiple ||\n\t\t\tthis.props.variant === 'readonly'\n\t\t) {\n\t\t\tthis.openDialog();\n\t\t}\n\t};\n\n\t/**\n\t * Combobox variant subrenders\n\t * (these can probably be broken into function components\n\t * if state is passed in as a prop)\n\t */\n\n\trenderBase = ({ assistiveText, labels, props, userDefinedProps }) => (\n\t\t<div className=\"slds-form-element__control\">\n\t\t\t<div className=\"slds-combobox_container\">\n\t\t\t\t<div\n\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t'slds-combobox',\n\t\t\t\t\t\t'slds-dropdown-trigger',\n\t\t\t\t\t\t'slds-dropdown-trigger_click',\n\t\t\t\t\t\t'ignore-react-onclickoutside',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'slds-is-open': this.getIsOpen(),\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'slds-has-error': props.errorText,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprops.className\n\t\t\t\t\t)}\n\t\t\t\t\taria-expanded={this.getIsOpen()}\n\t\t\t\t\taria-haspopup=\"listbox\" // eslint-disable-line jsx-a11y/aria-proptypes\n\t\t\t\t\t// used on menu's listbox\n\t\t\t\t\taria-owns={`${this.getId()}-listbox`} // eslint-disable-line jsx-a11y/aria-proptypes\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t>\n\t\t\t\t\t<InnerInput\n\t\t\t\t\t\taria-autocomplete=\"list\"\n\t\t\t\t\t\taria-controls={`${this.getId()}-listbox`}\n\t\t\t\t\t\taria-activedescendant={\n\t\t\t\t\t\t\tthis.state.activeOption\n\t\t\t\t\t\t\t\t? `${this.getId()}-listbox-option-${this.state.activeOption.id}`\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t\taria-describedby={this.getErrorId()}\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tclassName=\"slds-combobox__input\"\n\t\t\t\t\t\tcontainerProps={{\n\t\t\t\t\t\t\tclassName: 'slds-combobox__form-element',\n\t\t\t\t\t\t\trole: 'none',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ticonRight={\n\t\t\t\t\t\t\t<InputIcon\n\t\t\t\t\t\t\t\tcategory=\"utility\"\n\t\t\t\t\t\t\t\tname=\"search\"\n\t\t\t\t\t\t\t\ttitle={labels.inputIconTitle}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tid={this.getId()}\n\t\t\t\t\t\tonFocus={this.handleInputFocus}\n\t\t\t\t\t\tonBlur={this.handleInputBlur}\n\t\t\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t\t\t\tinputRef={this.setInputRef}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.openDialog();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\tplaceholder={labels.placeholder}\n\t\t\t\t\t\treadOnly={\n\t\t\t\t\t\t\t!!(props.predefinedOptionsOnly && this.state.activeOption)\n\t\t\t\t\t\t}\n\t\t\t\t\t\trequired={props.required}\n\t\t\t\t\t\trole=\"textbox\"\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\tprops.predefinedOptionsOnly\n\t\t\t\t\t\t\t\t? (this.state.activeOption && this.state.activeOption.label) ||\n\t\t\t\t\t\t\t\t\tprops.value\n\t\t\t\t\t\t\t\t: props.value\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{...userDefinedProps.input}\n\t\t\t\t\t/>\n\t\t\t\t\t{this.getDialog({\n\t\t\t\t\t\tmenuRenderer: this.renderMenu({ assistiveText, labels }),\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<SelectedListBox\n\t\t\t\tactiveOption={this.state.activeSelectedOption}\n\t\t\t\tactiveOptionIndex={this.state.activeSelectedOptionIndex}\n\t\t\t\tassistiveText={assistiveText}\n\t\t\t\tevents={{\n\t\t\t\t\tonBlurPill: this.handleBlurPill,\n\t\t\t\t\tonClickPill: this.handlePillClickSelectedListbox,\n\t\t\t\t\tonPillFocus: this.handlePillFocus,\n\t\t\t\t\tonRequestFocus: this.handleRequestFocusSelectedListbox,\n\t\t\t\t\tonRequestFocusOnNextPill: this.handleNavigateSelectedListbox,\n\t\t\t\t\tonRequestFocusOnPreviousPill: this.handleNavigateSelectedListbox,\n\t\t\t\t\tonRequestRemove: this.handleRemoveSelectedOption,\n\t\t\t\t}}\n\t\t\t\tid={`${this.getId()}-selected-listbox`}\n\t\t\t\tlabels={labels}\n\t\t\t\tselectedListboxRef={this.setSelectedListboxRef}\n\t\t\t\tselection={props.selection}\n\t\t\t\tlistboxHasFocus={this.state.listboxHasFocus}\n\t\t\t/>\n\t\t\t{props.errorText && (\n\t\t\t\t<div className=\"slds-has-error\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tid={this.getErrorId()}\n\t\t\t\t\t\tclassName=\"slds-form-element__help slds-has-error\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{props.errorText}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n\n\trenderInlineMultiple = ({\n\t\tassistiveText,\n\t\tlabels,\n\t\tprops,\n\t\tuserDefinedProps,\n\t}) => (\n\t\t<div className=\"slds-form-element__control\">\n\t\t\t<div\n\t\t\t\tclassName={classNames('slds-combobox_container', {\n\t\t\t\t\t'slds-has-inline-listbox': props.selection.length,\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t{props.selection.length ? (\n\t\t\t\t\t<SelectedListBox\n\t\t\t\t\t\tactiveOption={this.state.activeSelectedOption}\n\t\t\t\t\t\tactiveOptionIndex={this.state.activeSelectedOptionIndex}\n\t\t\t\t\t\tassistiveText={assistiveText}\n\t\t\t\t\t\tevents={{\n\t\t\t\t\t\t\tonBlurPill: this.handleBlurPill,\n\t\t\t\t\t\t\tonClickPill: this.handlePillClickSelectedListbox,\n\t\t\t\t\t\t\tonPillFocus: this.handlePillFocus,\n\t\t\t\t\t\t\tonRequestFocus: this.handleRequestFocusSelectedListbox,\n\t\t\t\t\t\t\tonRequestFocusOnNextPill: this.handleNavigateSelectedListbox,\n\t\t\t\t\t\t\tonRequestFocusOnPreviousPill: this.handleNavigateSelectedListbox,\n\t\t\t\t\t\t\tonRequestRemove: this.handleRemoveSelectedOption,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tid={`${this.getId()}-selected-listbox`}\n\t\t\t\t\t\tlabels={labels}\n\t\t\t\t\t\tselectedListboxRef={this.setSelectedListboxRef}\n\t\t\t\t\t\tselection={props.selection}\n\t\t\t\t\t\tlistboxHasFocus={this.state.listboxHasFocus}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t\t<div\n\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t'slds-combobox',\n\t\t\t\t\t\t'slds-dropdown-trigger',\n\t\t\t\t\t\t'slds-dropdown-trigger_click',\n\t\t\t\t\t\t'ignore-react-onclickoutside',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'slds-is-open': this.getIsOpen(),\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'slds-has-error': props.errorText,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprops.className\n\t\t\t\t\t)}\n\t\t\t\t\taria-expanded={this.getIsOpen()}\n\t\t\t\t\taria-haspopup=\"listbox\" // eslint-disable-line jsx-a11y/aria-proptypes\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t>\n\t\t\t\t\t<InnerInput\n\t\t\t\t\t\taria-autocomplete=\"list\"\n\t\t\t\t\t\taria-controls={`${this.getId()}-listbox`}\n\t\t\t\t\t\taria-activedescendant={\n\t\t\t\t\t\t\tthis.state.activeOption\n\t\t\t\t\t\t\t\t? `${this.getId()}-listbox-option-${this.state.activeOption.id}`\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t\taria-describedby={this.getErrorId()}\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tclassName=\"slds-combobox__input\"\n\t\t\t\t\t\tcontainerProps={{\n\t\t\t\t\t\t\t'aria-expanded': this.getIsOpen(),\n\t\t\t\t\t\t\t'aria-haspopup': 'listbox',\n\t\t\t\t\t\t\tclassName: 'slds-combobox__form-element',\n\t\t\t\t\t\t\trole: 'none',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ticonRight={\n\t\t\t\t\t\t\t<InputIcon\n\t\t\t\t\t\t\t\tcategory=\"utility\"\n\t\t\t\t\t\t\t\tname=\"search\"\n\t\t\t\t\t\t\t\ttitle={labels.inputIconTitle}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tid={this.getId()}\n\t\t\t\t\t\tonFocus={this.handleInputFocus}\n\t\t\t\t\t\tonBlur={this.handleInputBlur}\n\t\t\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t\t\t\tinputRef={this.setInputRef}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tthis.openDialog();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\tplaceholder={labels.placeholder}\n\t\t\t\t\t\treadOnly={\n\t\t\t\t\t\t\t!!(props.predefinedOptionsOnly && this.state.activeOption)\n\t\t\t\t\t\t}\n\t\t\t\t\t\trequired={props.required}\n\t\t\t\t\t\trole=\"textbox\"\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\tprops.predefinedOptionsOnly\n\t\t\t\t\t\t\t\t? (this.state.activeOption && this.state.activeOption.label) ||\n\t\t\t\t\t\t\t\t\tprops.value\n\t\t\t\t\t\t\t\t: props.value\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{...userDefinedProps.input}\n\t\t\t\t\t/>\n\t\t\t\t\t{this.getDialog({\n\t\t\t\t\t\tmenuRenderer: this.renderMenu({ assistiveText, labels }),\n\t\t\t\t\t})}\n\t\t\t\t\t{props.errorText && (\n\t\t\t\t\t\t<div id={this.getErrorId()} className=\"slds-form-element__help\">\n\t\t\t\t\t\t\t{props.errorText}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n\n\trenderInlineSingle = ({ assistiveText, labels, props, userDefinedProps }) => {\n\t\tconst iconLeft =\n\t\t\tprops.selection[0] && props.selection[0].icon\n\t\t\t\t? React.cloneElement(props.selection[0].icon, {\n\t\t\t\t\t\tcontainerClassName: 'slds-combobox__input-entity-icon',\n\t\t\t\t\t})\n\t\t\t\t: null;\n\n\t\tconst value =\n\t\t\tprops.selection[0] && props.selection[0].label\n\t\t\t\t? props.selection[0].label\n\t\t\t\t: props.value;\n\n\t\t/* eslint-disable jsx-a11y/role-supports-aria-props */\n\t\treturn (\n\t\t\t<div className=\"slds-form-element__control\">\n\t\t\t\t<div\n\t\t\t\t\tclassName={classNames('slds-combobox_container', {\n\t\t\t\t\t\t'slds-has-inline-listbox': props.selection.length,\n\t\t\t\t\t})}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t'slds-combobox',\n\t\t\t\t\t\t\t'slds-dropdown-trigger',\n\t\t\t\t\t\t\t'slds-dropdown-trigger_click',\n\t\t\t\t\t\t\t'ignore-react-onclickoutside',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'slds-is-open': this.getIsOpen(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'slds-has-error': props.errorText,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprops.className\n\t\t\t\t\t\t)}\n\t\t\t\t\t\taria-expanded={this.getIsOpen()}\n\t\t\t\t\t\taria-haspopup=\"listbox\" // eslint-disable-line jsx-a11y/aria-proptypes\n\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<InnerInput\n\t\t\t\t\t\t\taria-autocomplete=\"list\"\n\t\t\t\t\t\t\taria-controls={`${this.getId()}-listbox`}\n\t\t\t\t\t\t\taria-activedescendant={\n\t\t\t\t\t\t\t\tthis.state.activeOption\n\t\t\t\t\t\t\t\t\t? `${this.getId()}-listbox-option-${\n\t\t\t\t\t\t\t\t\t\t\tthis.state.activeOption.id\n\t\t\t\t\t\t\t\t\t\t}`\n\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taria-describedby={this.getErrorId()}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tclassName=\"slds-combobox__input\"\n\t\t\t\t\t\t\tcontainerProps={{\n\t\t\t\t\t\t\t\tclassName: 'slds-combobox__form-element',\n\t\t\t\t\t\t\t\trole: 'none',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdisabled={this.props.singleInputDisabled}\n\t\t\t\t\t\t\ticonRight={\n\t\t\t\t\t\t\t\tprops.selection.length ? (\n\t\t\t\t\t\t\t\t\t<InputIcon\n\t\t\t\t\t\t\t\t\t\tassistiveText={{\n\t\t\t\t\t\t\t\t\t\t\ticon: assistiveText.removeSingleSelectedOption,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tbuttonRef={(component) => {\n\t\t\t\t\t\t\t\t\t\t\tthis.buttonRef = component;\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tcategory=\"utility\"\n\t\t\t\t\t\t\t\t\t\ticonPosition=\"right\"\n\t\t\t\t\t\t\t\t\t\tname=\"close\"\n\t\t\t\t\t\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\t\t\t\t\t\tthis.handleRemoveSelectedOption(event, {\n\t\t\t\t\t\t\t\t\t\t\t\toption: props.selection[0],\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<InputIcon category=\"utility\" name=\"search\" />\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ticonLeft={iconLeft}\n\t\t\t\t\t\t\tid={this.getId()}\n\t\t\t\t\t\t\tonFocus={this.handleInputFocus}\n\t\t\t\t\t\t\tonBlur={this.handleInputBlur}\n\t\t\t\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t\t\t\t\tinputRef={this.setInputRef}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.requestOpenMenu();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\tif (!props.selection.length) {\n\t\t\t\t\t\t\t\t\tthis.handleInputChange(event);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tplaceholder={labels.placeholder}\n\t\t\t\t\t\t\treadOnly={\n\t\t\t\t\t\t\t\t!!(props.predefinedOptionsOnly && this.state.activeOption) ||\n\t\t\t\t\t\t\t\t!!props.selection.length\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trequired={props.required}\n\t\t\t\t\t\t\trole=\"textbox\"\n\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\tprops.predefinedOptionsOnly\n\t\t\t\t\t\t\t\t\t? (this.state.activeOption &&\n\t\t\t\t\t\t\t\t\t\t\tthis.state.activeOption.label) ||\n\t\t\t\t\t\t\t\t\t\tprops.value\n\t\t\t\t\t\t\t\t\t: value\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{...userDefinedProps.input}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{this.getDialog({\n\t\t\t\t\t\t\tmenuRenderer: this.renderMenu({ assistiveText, labels }),\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t{props.errorText && (\n\t\t\t\t\t\t\t<div id={this.getErrorId()} className=\"slds-form-element__help\">\n\t\t\t\t\t\t\t\t{props.errorText}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\trenderMenu = ({ assistiveText, labels }) => {\n\t\tconst menuVariant = {\n\t\t\tbase: 'icon-title-subtitle',\n\t\t\t'inline-listbox': 'icon-title-subtitle',\n\t\t\treadonly: 'checkbox',\n\t\t};\n\n\t\treturn (\n\t\t\t<Menu\n\t\t\t\tassistiveText={assistiveText}\n\t\t\t\tactiveOption={this.state.activeOption}\n\t\t\t\tactiveOptionIndex={this.state.activeOptionIndex}\n\t\t\t\tclassNameMenu={this.props.classNameMenu}\n\t\t\t\tclassNameMenuSubHeader={this.props.classNameMenuSubHeader}\n\t\t\t\ttooltipMenuItemDisabled={this.props.tooltipMenuItemDisabled}\n\t\t\t\tinheritWidthOf={this.props.inheritWidthOf}\n\t\t\t\tinputId={this.getId()}\n\t\t\t\tinputValue={this.props.value}\n\t\t\t\tisSelected={this.isSelected}\n\t\t\t\titemVisibleLength={\n\t\t\t\t\tthis.props.variant === 'readonly'\n\t\t\t\t\t\t? this.props.readOnlyMenuItemVisibleLength\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\tlabels={labels}\n\t\t\t\t// For backward compatibility, 'menuItem' prop will be deprecated soon\n\t\t\t\tonRenderMenuItem={\n\t\t\t\t\tthis.props.onRenderMenuItem\n\t\t\t\t\t\t? this.props.onRenderMenuItem\n\t\t\t\t\t\t: this.props.menuItem\n\t\t\t\t}\n\t\t\t\tmenuPosition={this.props.menuPosition}\n\t\t\t\tmenuRef={(ref) => {\n\t\t\t\t\tthis.menuRef = ref;\n\t\t\t\t}}\n\t\t\t\tmaxWidth={this.props.menuMaxWidth}\n\t\t\t\toptions={this.props.options}\n\t\t\t\tonSelect={this.handleSelect}\n\t\t\t\tclearActiveOption={this.clearActiveOption}\n\t\t\t\tselection={this.props.selection}\n\t\t\t\tvariant={menuVariant[this.props.variant]}\n\t\t\t/>\n\t\t);\n\t};\n\n\trenderPopover = ({ assistiveText, labels, props }) => {\n\t\tconst popoverProps = this.getCustomPopoverProps(\n\t\t\tthis.props.popover.props.body,\n\t\t\t{ assistiveText, labels }\n\t\t);\n\n\t\treturn (\n\t\t\t<div className=\"slds-form-element__control\">\n\t\t\t\t<div className=\"slds-combobox_container\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t'slds-combobox',\n\t\t\t\t\t\t\t'slds-dropdown-trigger',\n\t\t\t\t\t\t\t'slds-dropdown-trigger_click',\n\t\t\t\t\t\t\t'ignore-react-onclickoutside',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'slds-is-open': this.getIsOpen(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'slds-has-error': props.errorText,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprops.className\n\t\t\t\t\t\t)}\n\t\t\t\t\t\taria-expanded={this.getIsOpen()}\n\t\t\t\t\t\taria-haspopup=\"dialog\" // eslint-disable-line jsx-a11y/aria-proptypes\n\t\t\t\t\t\taria-owns={`${this.getId()}`} // eslint-disable-line jsx-a11y/aria-proptypes\n\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Popover {...popoverProps}>\n\t\t\t\t\t\t\t<InnerInput\n\t\t\t\t\t\t\t\taria-autocomplete=\"none\"\n\t\t\t\t\t\t\t\taria-controls={`${this.getId()}`}\n\t\t\t\t\t\t\t\taria-describedby={this.getErrorId()}\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\tclassName=\"slds-combobox__input\"\n\t\t\t\t\t\t\t\tcontainerProps={{\n\t\t\t\t\t\t\t\t\tclassName: 'slds-combobox__form-element',\n\t\t\t\t\t\t\t\t\trole: 'none',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ticonRight={<InputIcon category=\"utility\" name=\"down\" />}\n\t\t\t\t\t\t\t\tid={this.getId()}\n\t\t\t\t\t\t\t\tonFocus={this.handleInputFocus}\n\t\t\t\t\t\t\t\tonBlur={this.handleInputBlur}\n\t\t\t\t\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t\t\t\t\t\tinputRef={this.setInputRef}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.openDialog();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\tplaceholder={labels.placeholder}\n\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t\trequired={props.required}\n\t\t\t\t\t\t\t\trole=\"textbox\"\n\t\t\t\t\t\t\t\tvalue={props.value}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Popover>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{props.errorText && (\n\t\t\t\t\t<div className=\"slds-has-error\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid={this.getErrorId()}\n\t\t\t\t\t\t\tclassName=\"slds-form-element__help slds-has-error\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{props.errorText}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\trenderReadOnlyMultiple = ({\n\t\tassistiveText,\n\t\tlabels,\n\t\tprops,\n\t\tuserDefinedProps,\n\t}) => {\n\t\tconst value =\n\t\t\tprops.selection.length > 1\n\t\t\t\t? labels.multipleOptionsSelected ||\n\t\t\t\t\t`${props.selection.length} options selected`\n\t\t\t\t: (props.selection[0] && props.selection[0].label) || '';\n\n\t\t/* eslint-disable jsx-a11y/role-supports-aria-props */\n\t\treturn (\n\t\t\t<div className=\"slds-form-element__control\">\n\t\t\t\t<div className=\"slds-combobox_container\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t'slds-combobox',\n\t\t\t\t\t\t\t'slds-dropdown-trigger',\n\t\t\t\t\t\t\t'slds-dropdown-trigger_click',\n\t\t\t\t\t\t\t'ignore-react-onclickoutside',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'slds-is-open': this.getIsOpen(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'slds-has-error': props.errorText,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprops.className\n\t\t\t\t\t\t)}\n\t\t\t\t\t\taria-expanded={this.getIsOpen()}\n\t\t\t\t\t\taria-haspopup=\"listbox\" // eslint-disable-line jsx-a11y/aria-proptypes\n\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<InnerInput\n\t\t\t\t\t\t\taria-autocomplete=\"list\"\n\t\t\t\t\t\t\taria-controls={`${this.getId()}-listbox`}\n\t\t\t\t\t\t\taria-activedescendant={\n\t\t\t\t\t\t\t\tthis.state.activeOption\n\t\t\t\t\t\t\t\t\t? `${this.getId()}-listbox-option-${\n\t\t\t\t\t\t\t\t\t\t\tthis.state.activeOption.id\n\t\t\t\t\t\t\t\t\t\t}`\n\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taria-describedby={this.getErrorId()}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tclassName=\"slds-combobox__input\"\n\t\t\t\t\t\t\tcontainerProps={{\n\t\t\t\t\t\t\t\t'aria-expanded': this.getIsOpen(),\n\t\t\t\t\t\t\t\t'aria-haspopup': 'listbox',\n\t\t\t\t\t\t\t\tclassName: 'slds-combobox__form-element',\n\t\t\t\t\t\t\t\trole: 'none',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ticonRight={\n\t\t\t\t\t\t\t\t<InputIcon category=\"utility\" name=\"down\" variant=\"combobox\" />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tid={this.getId()}\n\t\t\t\t\t\t\tonFocus={this.handleInputFocus}\n\t\t\t\t\t\t\tonBlur={this.handleInputBlur}\n\t\t\t\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t\t\t\t\tinputRef={this.setInputRef}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.requestOpenMenu();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\tif (!props.selection.length) {\n\t\t\t\t\t\t\t\t\tthis.handleInputChange(event);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tplaceholder={labels.placeholderReadOnly}\n\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\trequired={props.required}\n\t\t\t\t\t\t\trole=\"textbox\"\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t{...userDefinedProps.input}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{this.getDialog({\n\t\t\t\t\t\t\tmenuRenderer: this.renderMenu({ assistiveText, labels }),\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<SelectedListBox\n\t\t\t\t\tactiveOption={this.state.activeSelectedOption}\n\t\t\t\t\tactiveOptionIndex={this.state.activeSelectedOptionIndex}\n\t\t\t\t\tassistiveText={assistiveText}\n\t\t\t\t\tevents={{\n\t\t\t\t\t\tonBlurPill: this.handleBlurPill,\n\t\t\t\t\t\tonClickPill: this.handlePillClickSelectedListbox,\n\t\t\t\t\t\tonPillFocus: this.handlePillFocus,\n\t\t\t\t\t\tonRequestFocus: this.handleRequestFocusSelectedListbox,\n\t\t\t\t\t\tonRequestFocusOnNextPill: this.handleNavigateSelectedListbox,\n\t\t\t\t\t\tonRequestFocusOnPreviousPill: this.handleNavigateSelectedListbox,\n\t\t\t\t\t\tonRequestRemove: this.handleRemoveSelectedOption,\n\t\t\t\t\t}}\n\t\t\t\t\tid={`${this.getId()}-selected-listbox`}\n\t\t\t\t\tlabels={labels}\n\t\t\t\t\tselectedListboxRef={this.setSelectedListboxRef}\n\t\t\t\t\tselection={props.selection}\n\t\t\t\t\tlistboxHasFocus={this.state.listboxHasFocus}\n\t\t\t\t\tvariant={this.props.variant}\n\t\t\t\t\trenderAtSelectionLength={2}\n\t\t\t\t/>\n\t\t\t\t{props.errorText && (\n\t\t\t\t\t<div className=\"slds-has-error\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid={this.getErrorId()}\n\t\t\t\t\t\t\tclassName=\"slds-form-element__help slds-has-error\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{props.errorText}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\trenderReadOnlySingle = ({\n\t\tassistiveText,\n\t\tlabels,\n\t\tprops,\n\t\tuserDefinedProps,\n\t}) => {\n\t\tconst value = (props.selection[0] && props.selection[0].label) || '';\n\n\t\t/* eslint-disable jsx-a11y/role-supports-aria-props */\n\t\treturn (\n\t\t\t<div className=\"slds-form-element__control\">\n\t\t\t\t<div className=\"slds-combobox_container\">\n\t\t\t\t\t<div // aria attributes have been moved to the `div` wrapping `input` to comply with ARIA 1.1.\n\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t'slds-combobox',\n\t\t\t\t\t\t\t'slds-dropdown-trigger',\n\t\t\t\t\t\t\t'slds-dropdown-trigger_click',\n\t\t\t\t\t\t\t'ignore-react-onclickoutside',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'slds-is-open': this.getIsOpen(),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'slds-has-error': props.errorText,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprops.className\n\t\t\t\t\t\t)}\n\t\t\t\t\t\taria-expanded={this.getIsOpen()}\n\t\t\t\t\t\taria-haspopup=\"listbox\" // eslint-disable-line jsx-a11y/aria-proptypes\n\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<InnerInput\n\t\t\t\t\t\t\taria-autocomplete=\"list\"\n\t\t\t\t\t\t\taria-controls={`${this.getId()}-listbox`}\n\t\t\t\t\t\t\taria-activedescendant={\n\t\t\t\t\t\t\t\tthis.state.activeOption\n\t\t\t\t\t\t\t\t\t? `${this.getId()}-listbox-option-${\n\t\t\t\t\t\t\t\t\t\t\tthis.state.activeOption.id\n\t\t\t\t\t\t\t\t\t\t}`\n\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taria-describedby={this.getErrorId()}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tclassName=\"slds-combobox__input\"\n\t\t\t\t\t\t\tcontainerProps={{\n\t\t\t\t\t\t\t\t'aria-expanded': this.getIsOpen(),\n\t\t\t\t\t\t\t\t'aria-haspopup': 'listbox',\n\t\t\t\t\t\t\t\tclassName: 'slds-combobox__form-element',\n\t\t\t\t\t\t\t\trole: 'none',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tdisabled={this.props.singleInputDisabled}\n\t\t\t\t\t\t\ticonRight={\n\t\t\t\t\t\t\t\t<InputIcon category=\"utility\" name=\"down\" variant=\"combobox\" />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tid={this.getId()}\n\t\t\t\t\t\t\tonFocus={this.handleInputFocus}\n\t\t\t\t\t\t\tonBlur={this.handleInputBlur}\n\t\t\t\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t\t\t\t\tinputRef={this.setInputRef}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.requestOpenMenu();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\t\tif (!props.selection.length) {\n\t\t\t\t\t\t\t\t\tthis.handleInputChange(event);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tplaceholder={labels.placeholderReadOnly}\n\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\trequired={props.required}\n\t\t\t\t\t\t\trole=\"textbox\"\n\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t(this.state.activeOption && this.state.activeOption.label) ||\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{...userDefinedProps.input}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{this.getDialog({\n\t\t\t\t\t\t\tmenuRenderer: this.renderMenu({ assistiveText, labels }),\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t{props.errorText && (\n\t\t\t\t\t\t\t<div id={this.getErrorId()} className=\"slds-form-element__help\">\n\t\t\t\t\t\t\t\t{props.errorText}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\trender() {\n\t\tconst props = this.props;\n\t\t// Merge objects of strings with their default object\n\t\tconst assistiveText = assign(\n\t\t\t{},\n\t\t\tdefaultProps.assistiveText,\n\t\t\tprops.assistiveText\n\t\t);\n\t\tconst labels = assign({}, defaultProps.labels, this.props.labels);\n\t\tconst hasRenderedLabel =\n\t\t\tlabels.label || (assistiveText && assistiveText.label);\n\t\t// declare user defined props\n\t\tconst userDefinedProps = {};\n\t\tif (props.input) {\n\t\t\t// at the moment we only support overriding the input props\n\t\t\tuserDefinedProps.input = props.input.props;\n\t\t}\n\t\tconst subRenderParameters = {\n\t\t\tassistiveText,\n\t\t\tlabels,\n\t\t\tprops: this.props,\n\t\t\tuserDefinedProps,\n\t\t};\n\t\tconst multipleOrSingle = this.props.multiple ? 'multiple' : 'single';\n\t\tconst subRenders = {\n\t\t\tbase: {\n\t\t\t\tmultiple: this.renderBase, // same\n\t\t\t\tsingle: this.renderBase,\n\t\t\t},\n\t\t\t'inline-listbox': {\n\t\t\t\tmultiple: this.renderInlineMultiple,\n\t\t\t\tsingle: this.renderInlineSingle,\n\t\t\t},\n\t\t\tpopover: {\n\t\t\t\tmultiple: this.renderPopover, // same\n\t\t\t\tsingle: this.renderPopover,\n\t\t\t},\n\t\t\treadonly: {\n\t\t\t\tmultiple: this.renderReadOnlyMultiple,\n\t\t\t\tsingle: this.renderReadOnlySingle,\n\t\t\t},\n\t\t};\n\t\tconst variantExists = subRenders[this.props.variant][multipleOrSingle];\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={classNames('slds-form-element', props.classNameContainer)}\n\t\t\t>\n\t\t\t\t<Label\n\t\t\t\t\tassistiveText={this.props.assistiveText}\n\t\t\t\t\thtmlFor={this.getId()}\n\t\t\t\t\tlabel={labels.label}\n\t\t\t\t\trequired={props.required}\n\t\t\t\t/>\n\t\t\t\t{this.props.fieldLevelHelpTooltip && hasRenderedLabel ? (\n\t\t\t\t\t<FieldLevelHelpTooltip\n\t\t\t\t\t\tfieldLevelHelpTooltip={this.props.fieldLevelHelpTooltip}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t\t{variantExists\n\t\t\t\t\t? subRenders[this.props.variant][multipleOrSingle](\n\t\t\t\t\t\t\tsubRenderParameters\n\t\t\t\t\t\t)\n\t\t\t\t\t: subRenders.base.multiple(subRenderParameters)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n/* eslint-enable jsx-a11y/role-supports-aria-props */\n\nCombobox.contextTypes = {\n\ticonPath: PropTypes.string,\n};\n\nCombobox.displayName = COMBOBOX;\nCombobox.propTypes = propTypes;\nCombobox.defaultProps = defaultProps;\n\nexport default Combobox;\n"],"file":"combobox.js"}