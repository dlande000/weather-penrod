{"version":3,"sources":["../../../../.tmp-es/components/date-picker/private/calendar-wrapper.jsx"],"names":["React","PropTypes","classNames","Calendar","CalendarNavigation","EventUtil","KEYS","DatepickerCalendarWrapper","initialDateForCalendarRender","props","selectedDate","isCalendarFocused","event","direction","previousMonthRef","setState","onCalendarFocus","ref","focus","todayRef","shiftKey","keyCode","TAB","trapEvent","ESCAPE","onRequestClose","data","state","triggerCallback","modifiedData","isolated","className","handleKeyDown","assistiveTextNextMonth","assistiveTextPreviousMonth","id","monthLabels","handleInitialDateForCalendarRenderChange","component","handleFirstFocusableNodeKeyDown","relativeYearFrom","relativeYearTo","abbreviatedWeekDayLabels","dateDisabled","isIsoWeekday","handleCalendarBlur","handleRequestClose","handleRequestFocusDate","onSelectDate","selectedDateRef","todayLabel","handleLastFocusableNodeKeyDown","weekDayLabels","Component","Date","value","string","isRequired","array","oneOfType","object","func","bool","number","instanceOf"],"mappings":"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","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n// ### classNames\n// [github.com/JedWatson/classnames](https://github.com/JedWatson/classnames)\n// This project uses `classnames`, \"a simple javascript utility for conditionally\n// joining classNames together.\"\nimport classNames from 'classnames';\n\nimport Calendar from './calendar';\nimport CalendarNavigation from './navigation';\n\nimport EventUtil from '../../../utilities/event';\nimport KEYS from '../../../utilities/key-code';\n\nclass DatepickerCalendarWrapper extends React.Component {\n\tstatic defaultProps = {\n\t\tselectedDate: new Date(),\n\t\tvalue: new Date(),\n\t};\n\n\tstatic displayName = 'DatepickerCalendarWrapper';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * Label for button to go to the next month\n\t\t */\n\t\tassistiveTextNextMonth: PropTypes.string.isRequired,\n\t\t/**\n\t\t * Label for button to go to the previous month\n\t\t */\n\t\tassistiveTextPreviousMonth: PropTypes.string.isRequired,\n\t\t/**\n\t\t * One letter abbreviations of the days of the week, starting on Sunday.\n\t\t */\n\t\tabbreviatedWeekDayLabels: PropTypes.array.isRequired,\n\t\t/**\n\t\t * CSS classes to be added to tag with `slds-datepicker`.\n\t\t */\n\t\tclassName: PropTypes.oneOfType([\n\t\t\tPropTypes.array,\n\t\t\tPropTypes.object,\n\t\t\tPropTypes.string,\n\t\t]),\n\t\t/**\n\t\t * dateDisabled() takes a date as input argument, returns true if given date should be disabled, otherwise returns false.\n\t\t */\n\t\tdateDisabled: PropTypes.func,\n\t\t/**\n\t\t * HTML id for component\n\t\t */\n\t\tid: PropTypes.string,\n\t\t/**\n\t\t * Makes Monday the first day of the week\n\t\t */\n\t\tisIsoWeekday: PropTypes.bool,\n\t\t/**\n\t\t * For use of datepicker outside of dropdown.\n\t\t */\n\t\tisolated: PropTypes.bool,\n\t\t/**\n\t\t * Names of the months\n\t\t */\n\t\tmonthLabels: PropTypes.array.isRequired,\n\t\t/**\n\t\t * Triggered when the keyboard moves focus on the calendar. {date: [Date object], formattedDate: [string]}  _Tested with Mocha framework._\n\t\t */\n\t\tonCalendarFocus: PropTypes.func,\n\t\t/**\n\t\t * Triggered when the calendar is supposed to close.\n\t\t */\n\t\tonRequestClose: PropTypes.func.isRequired,\n\t\t/**\n\t\t * Triggered when a date on the calendar is clicked.\n\t\t */\n\t\tonSelectDate: PropTypes.func.isRequired,\n\t\t/**\n\t\t * The earliest year that can be selected in the year selection dropdown.\n\t\t */\n\t\trelativeYearFrom: PropTypes.number.isRequired,\n\t\t/**\n\t\t * The maximum year that can be selected in the year selection dropdown.\n\t\t */\n\t\trelativeYearTo: PropTypes.number.isRequired,\n\t\t/**\n\t\t * Currently selected date\n\t\t */\n\t\tselectedDate: PropTypes.instanceOf(Date),\n\t\t/**\n\t\t * Component reference / DOM node for selected day.\n\t\t */\n\t\tselectedDateRef: PropTypes.func,\n\t\t/**\n\t\t * Label of shortcut to jump to today within the calendar. Also used for assistive text for the current day.\n\t\t */\n\t\ttodayLabel: PropTypes.string.isRequired,\n\t\t/**\n\t\t * Names of the seven days of the week, starting on Sunday.\n\t\t */\n\t\tweekDayLabels: PropTypes.array.isRequired,\n\t};\n\n\tstate = {\n\t\tinitialDateForCalendarRender: this.props.selectedDate,\n\t\tisCalendarFocused: true,\n\t};\n\n\thandleCalendarBlur = (event, { direction }) => {\n\t\tif (direction === 'next' && this.previousMonthRef) {\n\t\t\tthis.setState({ isCalendarFocused: false });\n\t\t\tif (this.props.onCalendarFocus) {\n\t\t\t\tthis.props.onCalendarFocus(event, {\n\t\t\t\t\tdirection,\n\t\t\t\t\tisCalendarFocused: false,\n\t\t\t\t\tref: this.previousMonthRef,\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.previousMonthRef.focus();\n\t\t} else if (direction === 'previous' && this.todayRef) {\n\t\t\tthis.setState({ isCalendarFocused: false });\n\t\t\tif (this.props.onCalendarFocus) {\n\t\t\t\tthis.props.onCalendarFocus(event, {\n\t\t\t\t\tdirection,\n\t\t\t\t\tisCalendarFocused: false,\n\t\t\t\t\tref: this.todayRef,\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.todayRef.focus();\n\t\t}\n\t};\n\n\thandleFirstFocusableNodeKeyDown = (event) => {\n\t\tif (event.shiftKey && event.keyCode === KEYS.TAB) {\n\t\t\tEventUtil.trapEvent(event);\n\t\t\tthis.setState({ isCalendarFocused: true });\n\t\t}\n\t};\n\n\thandleInitialDateForCalendarRenderChange = (\n\t\tevent,\n\t\tinitialDateForCalendarRender\n\t) => {\n\t\tthis.setState({ initialDateForCalendarRender });\n\t};\n\n\thandleKeyDown = (event) => {\n\t\tif (event.keyCode === KEYS.ESCAPE) {\n\t\t\tEventUtil.trapEvent(event);\n\t\t\tthis.props.onRequestClose(event, {});\n\t\t}\n\t};\n\n\thandleLastFocusableNodeKeyDown = (event) => {\n\t\tif (!event.shiftKey && event.keyCode === KEYS.TAB) {\n\t\t\tEventUtil.trapEvent(event);\n\t\t\tthis.setState({ isCalendarFocused: true });\n\t\t}\n\t};\n\n\thandleRequestClose = (event) => {\n\t\tif (this.props.onRequestClose) {\n\t\t\tthis.props.onRequestClose(event, {});\n\t\t}\n\t};\n\n\thandleRequestFocusDate = (event, data) => {\n\t\t// will be called three times, due to re-render\n\t\tif (data.ref && this.state.isCalendarFocused) {\n\t\t\tdata.ref.focus();\n\t\t}\n\n\t\t// only call on actual DOM event and not on re-render\n\t\tif (this.props.onCalendarFocus && data.triggerCallback) {\n\t\t\tconst { triggerCallback, ...modifiedData } = data; // eslint-disable-line no-unused-vars\n\t\t\tthis.props.onCalendarFocus(event, modifiedData);\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div // eslint-disable-line jsx-a11y/no-static-element-interactions\n\t\t\t\tclassName={classNames(\n\t\t\t\t\t{\n\t\t\t\t\t\t'slds-datepicker': this.props.isolated,\n\t\t\t\t\t},\n\t\t\t\t\tthis.props.className\n\t\t\t\t)}\n\t\t\t\taria-hidden=\"false\"\n\t\t\t\tdata-selection=\"single\"\n\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t>\n\t\t\t\t<CalendarNavigation\n\t\t\t\t\tassistiveTextNextMonth={this.props.assistiveTextNextMonth}\n\t\t\t\t\tassistiveTextPreviousMonth={this.props.assistiveTextPreviousMonth}\n\t\t\t\t\tid={this.props.id}\n\t\t\t\t\tinitialDateForCalendarRender={this.state.initialDateForCalendarRender}\n\t\t\t\t\tmonthLabels={this.props.monthLabels}\n\t\t\t\t\tonChangeMonth={this.handleInitialDateForCalendarRenderChange}\n\t\t\t\t\tpreviousMonthRef={(component) => {\n\t\t\t\t\t\tthis.previousMonthRef = component;\n\t\t\t\t\t}}\n\t\t\t\t\tonPreviousMonthKeyDown={this.handleFirstFocusableNodeKeyDown}\n\t\t\t\t\trelativeYearFrom={this.props.relativeYearFrom}\n\t\t\t\t\trelativeYearTo={this.props.relativeYearTo}\n\t\t\t\t/>\n\t\t\t\t<Calendar\n\t\t\t\t\tabbreviatedWeekDayLabels={this.props.abbreviatedWeekDayLabels}\n\t\t\t\t\tdateDisabled={this.props.dateDisabled}\n\t\t\t\t\tid={this.props.id}\n\t\t\t\t\tinitialDateForCalendarRender={this.state.initialDateForCalendarRender}\n\t\t\t\t\tisIsoWeekday={this.props.isIsoWeekday}\n\t\t\t\t\tonCalendarBlur={this.handleCalendarBlur}\n\t\t\t\t\tonChangeMonth={this.handleInitialDateForCalendarRenderChange}\n\t\t\t\t\tonRequestClose={this.handleRequestClose}\n\t\t\t\t\tonRequestInternalFocusDate={this.handleRequestFocusDate}\n\t\t\t\t\tonSelectDate={this.props.onSelectDate}\n\t\t\t\t\tselectedDate={this.props.selectedDate}\n\t\t\t\t\tselectedDateRef={this.props.selectedDateRef}\n\t\t\t\t\ttodayLabel={this.props.todayLabel}\n\t\t\t\t\ttodayRef={(component) => {\n\t\t\t\t\t\tthis.todayRef = component;\n\t\t\t\t\t}}\n\t\t\t\t\tonLastFocusableNodeKeyDown={this.handleLastFocusableNodeKeyDown}\n\t\t\t\t\tweekDayLabels={this.props.weekDayLabels}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default DatepickerCalendarWrapper;\n"],"file":"calendar-wrapper.js"}