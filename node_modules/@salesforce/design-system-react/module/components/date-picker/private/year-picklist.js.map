{"version":3,"sources":["../../../../.tmp-es/components/date-picker/private/year-picklist.jsx"],"names":["React","PropTypes","Combobox","DatepickerYearSelector","now","Date","fromYear","getFullYear","props","relativeYearFrom","toYear","relativeYearTo","opts","year","push","label","value","id","String","length","selectedYear","initialDateForCalendarRender","getOptions","filter","option","event","selectedValues","selection","selectedValue","onChangeMonth","setFullYear","parseInt","getSelectedValueOption","onSelect","handleSelect","placeholder","Component","string","instanceOf","isRequired","func","number","yearPicklistButtonRef"],"mappings":"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","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\nimport React from 'react';\n\nimport PropTypes from 'prop-types';\nimport Combobox from '../../combobox/combobox';\n\nclass DatepickerYearSelector extends React.Component {\n\tstatic displayName = 'SLDSDatepickerYearSelector';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * HTML id for component\n\t\t */\n\t\tid: PropTypes.string,\n\t\t/**\n\t\t * Date used to create calendar that is displayed. This is typically the initial day focused when using the keyboard navigation. Focus will be set to this date if available.\n\t\t */\n\t\tinitialDateForCalendarRender: PropTypes.instanceOf(Date).isRequired,\n\t\t/**\n\t\t * Displayed calendar has changed or re-rendered\n\t\t */\n\t\tonChangeMonth: PropTypes.func.isRequired,\n\t\t/**\n\t\t * Offset of year from current year that can be selected in the year selection dropdown. (2017 - 5 = 2012).\n\t\t */\n\t\trelativeYearFrom: PropTypes.number,\n\t\t/**\n\t\t * Offset of year from current year that can be selected in the year selection dropdown. (2017 + 5 = 2012).\n\t\t */\n\t\trelativeYearTo: PropTypes.number,\n\t\t/**\n\t\t * Callback that passes in the DOM reference of the `<button>` DOM node within this component. Primary use is to allow `focus` to be called. You should still test if the node exists, since rendering is asynchronous. `buttonRef={(component) => { if(component) console.log(component); }}`\n\t\t */\n\t\tyearPicklistButtonRef: PropTypes.func,\n\t};\n\n\tgetOptions = () => {\n\t\tconst now = new Date();\n\t\tconst fromYear = now.getFullYear() + this.props.relativeYearFrom;\n\t\tconst toYear = now.getFullYear() + this.props.relativeYearTo;\n\t\tconst opts = [];\n\n\t\tfor (let year = fromYear; year < toYear; year += 1) {\n\t\t\topts.push({ label: `${year}`, value: year, id: String(opts.length) });\n\t\t}\n\t\treturn opts;\n\t};\n\n\tgetSelectedValueOption = () => {\n\t\tconst selectedYear = this.props.initialDateForCalendarRender.getFullYear();\n\t\treturn this.getOptions().filter((option) => option.value === selectedYear);\n\t};\n\n\thandleSelect = (event, { selection: selectedValues }) => {\n\t\tconst selectedValue = selectedValues[0]; // safe since we are working with a single selection\n\n\t\tif (selectedValue) {\n\t\t\tthis.props.onChangeMonth(\n\t\t\t\tnew Date(\n\t\t\t\t\tthis.props.initialDateForCalendarRender.setFullYear(\n\t\t\t\t\t\tparseInt(selectedValue.value, 10)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t};\n\n\trender() {\n\t\tconst selection = this.getSelectedValueOption();\n\t\treturn (\n\t\t\t<div className=\"slds-form-element slds-align-content-center\">\n\t\t\t\t<Combobox\n\t\t\t\t\tclassName=\"slds-shrink-none\"\n\t\t\t\t\tclassNameMenu=\"slds-datepicker\"\n\t\t\t\t\tevents={{\n\t\t\t\t\t\tonSelect: this.handleSelect,\n\t\t\t\t\t}}\n\t\t\t\t\tid={`${this.props.id}-year-picklist`}\n\t\t\t\t\tinheritWidthOf=\"target\"\n\t\t\t\t\tmenuPosition=\"relative\"\n\t\t\t\t\tmultiple={false}\n\t\t\t\t\toptions={this.getOptions()}\n\t\t\t\t\tlabels={{\n\t\t\t\t\t\tplaceholder: 'Year',\n\t\t\t\t\t}}\n\t\t\t\t\tselection={selection}\n\t\t\t\t\tvalue={selection.value}\n\t\t\t\t\tvariant=\"readonly\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default DatepickerYearSelector;\n"],"file":"year-picklist.js"}