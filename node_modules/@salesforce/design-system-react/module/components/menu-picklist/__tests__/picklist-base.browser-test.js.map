{"version":3,"sources":["../../../../.tmp-es/components/menu-picklist/__tests__/picklist-base.browser-test.jsx"],"names":["React","ReactDOM","assign","TestUtils","expect","SLDSMenuPicklist","IconSettings","Simulate","scryRenderedDOMComponentsWithTag","findRenderedDOMComponentWithClass","describe","body","options","label","value","title","renderPicklist","inst","document","createElement","appendChild","render","removePicklist","unmountComponentAtNode","removeChild","defaultProps","modal","placeholder","createPicklist","props","getPicklist","getMenu","dom","querySelector","clickOnItem","cmp","index","items","click","btn","beforeEach","afterEach","it","to","equal","className","include","clicked","onClick","getAttribute","textContent","be","false","true","selected","onSelect","i","querySelectorAll","disabled","ulRole","ulAria","anchorRole","match","keyDown","key","keyCode","which","not","menu","menuItems"],"mappings":"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","sourcesContent":["/* eslint-disable react/no-render-return-value */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport assign from 'lodash.assign';\nimport TestUtils from 'react-dom/test-utils';\nimport { expect } from 'chai';\n\nimport SLDSMenuPicklist from '../../menu-picklist';\nimport IconSettings from '../../icon-settings';\n\nconst {\n\tSimulate,\n\tscryRenderedDOMComponentsWithTag,\n\tfindRenderedDOMComponentWithClass,\n} = TestUtils;\n\ndescribe('SLDSMenuPicklist: ', function() {\n\tlet body;\n\n\tconst options = [\n\t\t{\n\t\t\tlabel: 'A Option Option Super Super Long',\n\t\t\tvalue: 'A0',\n\t\t\ttitle: 'Greg',\n\t\t},\n\t\t{\n\t\t\tlabel: 'B Option',\n\t\t\tvalue: 'B0',\n\t\t},\n\t];\n\n\tconst renderPicklist = (inst) => {\n\t\tbody = document.createElement('div');\n\t\tdocument.body.appendChild(body);\n\t\treturn ReactDOM.render(\n\t\t\t<IconSettings iconPath=\"/assets/icons\">{inst}</IconSettings>,\n\t\t\tbody\n\t\t);\n\t};\n\n\tfunction removePicklist() {\n\t\tReactDOM.unmountComponentAtNode(body);\n\t\tdocument.body.removeChild(body);\n\t}\n\n\tconst defaultProps = {\n\t\tmodal: false,\n\t\toptions,\n\t\tplaceholder: 'Select a contact',\n\t\tvalue: 'C0',\n\t};\n\n\tconst createPicklist = (props) =>\n\t\tReact.createElement(SLDSMenuPicklist, assign({}, defaultProps, props));\n\n\tconst getPicklist = (props) => renderPicklist(createPicklist(props));\n\tconst getMenu = (dom) => dom.querySelector('.slds-dropdown');\n\n\tconst clickOnItem = (cmp, index) => {\n\t\tconst items = scryRenderedDOMComponentsWithTag(cmp, 'a');\n\t\tSimulate.click(items[index]);\n\t};\n\n\tdescribe('in modal mode', () => {\n\t\tlet cmp;\n\t\tlet btn;\n\n\t\tbeforeEach(() => {\n\t\t\tcmp = getPicklist({ modal: true });\n\t\t\tbtn = findRenderedDOMComponentWithClass(cmp, 'slds-button');\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tremovePicklist();\n\t\t});\n\n\t\tit('expands/contracts the dropdown on click', () => {\n\t\t\texpect(getMenu(document.body)).to.equal(null);\n\t\t\tSimulate.click(btn, {});\n\t\t\texpect(getMenu(document.body).className).to.include('slds-dropdown_left');\n\t\t\tSimulate.click(btn, {});\n\t\t\texpect(getMenu(document.body)).to.equal(null);\n\t\t});\n\t});\n\n\tdescribe('with click handler', () => {\n\t\tlet cmp;\n\t\tlet btn;\n\t\tlet clicked;\n\n\t\tbeforeEach(() => {\n\t\t\tclicked = false;\n\t\t\tcmp = getPicklist({\n\t\t\t\tonClick: () => {\n\t\t\t\t\tclicked = true;\n\t\t\t\t},\n\t\t\t});\n\t\t\tbtn = findRenderedDOMComponentWithClass(cmp, 'slds-button');\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tremovePicklist();\n\t\t});\n\n\t\tit('gives the button correct aria properties', () => {\n\t\t\texpect(btn.getAttribute('aria-haspopup')).to.equal('true');\n\t\t});\n\n\t\tit('sets the placeholder', () => {\n\t\t\texpect(btn.textContent).to.equal('Select a contact');\n\t\t});\n\n\t\tit('expands/contracts the dropdown on click', () => {\n\t\t\texpect(getMenu(body)).to.equal(null);\n\t\t\tSimulate.click(btn, {});\n\t\t\texpect(getMenu(body).className).to.include('slds-dropdown');\n\t\t\tSimulate.click(btn, {});\n\t\t\texpect(getMenu(body)).to.equal(null);\n\t\t});\n\n\t\tit('preserves click behavior', () => {\n\t\t\texpect(clicked).to.be.false;\n\t\t\tSimulate.click(btn, {});\n\t\t\texpect(clicked).to.be.true;\n\t\t});\n\t});\n\n\tdescribe('expanded with onSelect', () => {\n\t\tlet cmp;\n\t\tlet btn;\n\t\tlet clicked;\n\t\tlet selected;\n\n\t\tbeforeEach(() => {\n\t\t\tselected = false;\n\t\t\tcmp = getPicklist({\n\t\t\t\tonSelect: (i) => {\n\t\t\t\t\tselected = i;\n\t\t\t\t},\n\t\t\t});\n\t\t\tbtn = findRenderedDOMComponentWithClass(cmp, 'slds-button');\n\t\t\tSimulate.click(btn, {});\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tremovePicklist();\n\t\t});\n\n\t\tit('selects an item', () => {\n\t\t\texpect(selected).to.be.false;\n\t\t\tconst items = getMenu(body).querySelectorAll('.slds-dropdown__item');\n\t\t\tSimulate.click(items[1].querySelector('a'), {});\n\t\t\texpect(selected.value).to.equal('B0');\n\t\t});\n\t});\n\n\tdescribe('disabled', () => {\n\t\tlet cmp;\n\t\tlet btn;\n\t\tlet clicked;\n\n\t\tbeforeEach(() => {\n\t\t\tclicked = false;\n\t\t\tcmp = getPicklist({\n\t\t\t\tdisabled: true,\n\t\t\t\tonClick: () => {\n\t\t\t\t\tclicked = true;\n\t\t\t\t},\n\t\t\t});\n\t\t\tbtn = findRenderedDOMComponentWithClass(cmp, 'slds-button');\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tremovePicklist();\n\t\t});\n\n\t\tit(\"doesn't open\", () => {\n\t\t\tSimulate.click(btn, {});\n\t\t\texpect(getMenu(body)).to.equal(null);\n\t\t});\n\n\t\tit('prevents click behavior', () => {\n\t\t\texpect(clicked).to.be.false;\n\t\t\tSimulate.click(btn, {});\n\t\t\texpect(clicked).to.be.false;\n\t\t});\n\t});\n\n\tdescribe('accessible markup', () => {\n\t\tlet cmp;\n\t\tlet btn;\n\t\tlet clicked;\n\t\tlet selected;\n\n\t\tbeforeEach(() => {\n\t\t\tselected = false;\n\t\t\tcmp = getPicklist({\n\t\t\t\tonSelect: (i) => {\n\t\t\t\t\tselected = i;\n\t\t\t\t},\n\t\t\t});\n\t\t\tbtn = findRenderedDOMComponentWithClass(cmp, 'slds-button');\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tremovePicklist();\n\t\t});\n\n\t\tit('<ul> has role menu & aria-labelledby', () => {\n\t\t\tSimulate.click(btn, {});\n\t\t\tconst ulRole = getMenu(body)\n\t\t\t\t.querySelector('ul')\n\t\t\t\t.getAttribute('role');\n\t\t\tconst ulAria = getMenu(body)\n\t\t\t\t.querySelector('ul')\n\t\t\t\t.getAttribute('aria-labelledby');\n\t\t\texpect(ulRole).to.equal('menu');\n\t\t\texpect(ulAria).to.equal(btn.getAttribute('id'));\n\t\t});\n\n\t\tit('<a> inside <li> has role menuitem', () => {\n\t\t\tSimulate.click(btn, {});\n\t\t\tconst items = getMenu(body).querySelectorAll('.slds-dropdown__item a');\n\t\t\tconst anchorRole = items[1].getAttribute('role');\n\t\t\tconst match =\n\t\t\t\tanchorRole === 'menuitem' ||\n\t\t\t\tanchorRole === 'menuitemradio' ||\n\t\t\t\tanchorRole === 'menuitemcheckbox';\n\t\t\texpect(match).to.be.true;\n\t\t});\n\t});\n\n\tdescribe('Keyboard behavior', () => {\n\t\tlet cmp;\n\t\tlet btn;\n\t\tlet selected;\n\n\t\tbeforeEach(() => {\n\t\t\tselected = false;\n\t\t\tcmp = getPicklist({\n\t\t\t\tonSelect: (i) => {\n\t\t\t\t\tselected = i;\n\t\t\t\t},\n\t\t\t});\n\t\t\tbtn = findRenderedDOMComponentWithClass(cmp, 'slds-button');\n\t\t});\n\n\t\tafterEach(() => {\n\t\t\tremovePicklist();\n\t\t});\n\n\t\tit('opens menu with enter', () => {\n\t\t\texpect(getMenu(body)).to.equal(null);\n\t\t\tSimulate.keyDown(btn, { key: 'Enter', keyCode: 13, which: 13 });\n\t\t\texpect(getMenu(body)).to.not.equal(null);\n\t\t});\n\n\t\tit('opens menu with down arrow key', () => {\n\t\t\texpect(getMenu(body)).to.equal(null);\n\t\t\tSimulate.keyDown(btn, { key: 'Down', keyCode: 40, which: 40 });\n\t\t\texpect(getMenu(body)).to.not.equal(null);\n\t\t});\n\n\t\tit('selects an item with keyboard', () => {\n\t\t\tSimulate.click(btn, {});\n\t\t\texpect(selected).to.be.false;\n\n\t\t\tconst menu = getMenu(body);\n\t\t\tSimulate.keyDown(menu, { key: 'Down', keyCode: 40, which: 40 });\n\t\t\tSimulate.keyDown(menu, { key: 'Down', keyCode: 40, which: 40 });\n\t\t\tSimulate.keyDown(menu, { key: 'Enter', keyCode: 13, which: 13 });\n\t\t\texpect(selected.value).to.equal('B0');\n\t\t});\n\n\t\tit('closes Menu on esc', () => {\n\t\t\texpect(getMenu(body)).to.equal(null);\n\t\t\tSimulate.click(btn, {});\n\t\t\texpect(getMenu(body)).to.not.equal(null);\n\t\t\tconst menuItems = getMenu(body).querySelectorAll('.slds-dropdown__item');\n\t\t\tSimulate.keyDown(menuItems[1].querySelector('a'), {\n\t\t\t\tkey: 'Esc',\n\t\t\t\tkeyCode: 27,\n\t\t\t\twhich: 27,\n\t\t\t});\n\t\t\texpect(getMenu(body)).to.equal(null);\n\t\t});\n\t});\n});\n"],"file":"picklist-base.browser-test.js"}