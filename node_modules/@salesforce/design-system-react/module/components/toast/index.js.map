{"version":3,"sources":["../../../.tmp-es/components/toast/index.jsx"],"names":["React","PropTypes","assign","classNames","Button","Icon","checkProps","TOAST","DOMElementFocus","componentDoc","propTypes","assistiveText","shape","closeButton","oneOfType","string","node","className","array","object","duration","number","labels","details","heading","headingLink","onClickHeadingLink","func","icon","onRequestClose","style","variant","oneOf","isRequired","defaultProps","Toast","props","clearTimeout","timeout","component","state","isInitialRender","storeActiveElement","focus","setState","setTimeout","onClose","returnFocusToStoredElement","content","assistiveTextVariant","info","success","warning","error","defaultIcons","clonedIcon","cloneElement","containerClassName","inverse","size","saveButtonRef","Component","displayName"],"mappings":"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","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n// # Toast Component\n\n// Implements the [Toast design pattern](https://lightningdesignsystem.com/components/toasts/) in React.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport assign from 'lodash.assign';\n\nimport classNames from '../../utilities/class-names';\nimport Button from '../button';\nimport Icon from '../icon';\nimport checkProps from './check-props';\nimport { TOAST } from '../../utilities/constants';\nimport DOMElementFocus from '../../utilities/dom-element-focus';\nimport componentDoc from './docs.json';\n\nconst propTypes = {\n\t/**\n\t * **Assistive text for accessibility**\n\t * This object is merged with the default props object on every render.\n\t * * `closeButton`: This is a visually hidden label for the close button.\n\t * _Tested with snapshot testing._\n\t */\n\tassistiveText: PropTypes.shape({\n\t\tcloseButton: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n\t}),\n\t/**\n\t * CSS classes to be added to tag with `.slds-notify_toast`. Uses `classNames` [API](https://github.com/JedWatson/classnames).\n\t * _Tested with snapshot testing._\n\t */\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * If duration exists, the Toast will disappear after that amount of time. Time in milliseconds. _Tested with Mocha testing._\n\t */\n\tduration: PropTypes.number,\n\t/**\n\t * **Text labels for internationalization**\n\t * This object is merged with the default props object on every render.\n\t * * `details`: Secondary text below heading\n\t * * `heading`: text within heading tag\n\t * * `headingLink`: Text of link that triggers `onClickHeadingLink`. Inline links should pass a keyed array of React components into `labels.heading`.\n\t *\n\t * _Tested with snapshot testing._\n\t */\n\tlabels: PropTypes.shape({\n\t\tdetails: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n\t\theading: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n\t\theadingLink: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n\t}),\n\t/**\n\t * Triggered by link. _Tested with Mocha testing._\n\t */\n\tonClickHeadingLink: PropTypes.func,\n\t/**\n\t * Icon of type `~/components/icon`. This icon will be cloned and additional props appended. The default icons are:\n\t * * info variant: `utility:info`\n\t * * error variant: `utility:error`\n\t * * success variant: `utility:success`\n\t * * warning variant: `utility:warning`\n\t *\n\t * _Tested with snapshot testing._\n\t */\n\ticon: PropTypes.node,\n\t/**\n\t * Triggered by close button. _Tested with Mocha testing._\n\t */\n\tonRequestClose: PropTypes.func,\n\t/**\n\t * Custom styles to be passed to the component. _Tested with Mocha testing._\n\t */\n\tstyle: PropTypes.object,\n\t/**\n\t * The type of Toast. _Tested with snapshot testing._\n\t */\n\tvariant: PropTypes.oneOf(['error', 'info', 'success', 'warning']).isRequired,\n};\n\nconst defaultProps = {\n\tassistiveText: {\n\t\tcloseButton: 'Close',\n\t},\n\tvariant: 'info',\n};\n\n/**\n * Toast serves as a feedback & confirmation mechanism after the user takes an action. View [banner guidelines](https://www.lightningdesignsystem.com/guidelines/messaging/components/banners/).\n */\n\nclass Toast extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisInitialRender: true,\n\t\t};\n\t\tthis.timeout = null;\n\t}\n\n\tcomponentWillMount() {\n\t\t// `checkProps` issues warnings to developers about properties (similar to React's built in development tools)\n\t\tcheckProps(TOAST, this.props, componentDoc);\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.props.duration) {\n\t\t\tthis.timeout = setTimeout(() => {\n\t\t\t\tthis.onClose();\n\t\t\t}, this.props.duration);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.clearTimeout();\n\t\tDOMElementFocus.returnFocusToStoredElement();\n\t}\n\n\tonClose = () => {\n\t\tthis.clearTimeout();\n\n\t\tif (this.props.onRequestClose) {\n\t\t\tthis.props.onRequestClose();\n\t\t}\n\t};\n\n\tclearTimeout = () => {\n\t\tif (this.timeout) {\n\t\t\tclearTimeout(this.timeout);\n\t\t\tthis.timeout = null;\n\t\t}\n\t};\n\n\tsaveButtonRef = (component) => {\n\t\tthis.closeButton = component;\n\t\tif (this.state.isInitialRender) {\n\t\t\tDOMElementFocus.storeActiveElement();\n\t\t\tif (this.closeButton) {\n\t\t\t\tthis.closeButton.focus();\n\t\t\t}\n\t\t\tthis.setState({ isInitialRender: false });\n\t\t}\n\t};\n\n\trender() {\n\t\t// Merge objects of strings with their default object\n\t\tconst assistiveText = assign(\n\t\t\t{},\n\t\t\tdefaultProps.assistiveText,\n\t\t\tthis.props.assistiveText\n\t\t);\n\t\tconst labels = assign({}, defaultProps.labels, this.props.labels);\n\t\tconst heading = labels.heading || this.props.content; // eslint-disable-line react/prop-types\n\n\t\tconst assistiveTextVariant = {\n\t\t\tinfo: 'info',\n\t\t\tsuccess: 'success',\n\t\t\twarning: 'warning',\n\t\t\terror: 'error',\n\t\t};\n\n\t\tconst defaultIcons = {\n\t\t\tinfo: <Icon category=\"utility\" name=\"info\" />,\n\t\t\tsuccess: <Icon category=\"utility\" name=\"success\" />,\n\t\t\twarning: <Icon category=\"utility\" name=\"warning\" />,\n\t\t\terror: <Icon category=\"utility\" name=\"error\" />,\n\t\t};\n\n\t\tconst icon = this.props.icon\n\t\t\t? this.props.icon\n\t\t\t: defaultIcons[this.props.variant];\n\n\t\tconst clonedIcon = React.cloneElement(icon, {\n\t\t\tcontainerClassName: 'slds-m-right_small slds-no-flex slds-align-top',\n\t\t\tinverse: true,\n\t\t\tsize: 'small',\n\t\t});\n\n\t\t/* eslint-disable no-script-url */\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={classNames(\n\t\t\t\t\t'slds-notify slds-notify_toast',\n\t\t\t\t\t{\n\t\t\t\t\t\t'slds-theme_info': this.props.variant === 'info',\n\t\t\t\t\t\t'slds-theme_success': this.props.variant === 'success',\n\t\t\t\t\t\t'slds-theme_warning': this.props.variant === 'warning',\n\t\t\t\t\t\t'slds-theme_error': this.props.variant === 'error',\n\t\t\t\t\t},\n\t\t\t\t\tthis.props.className\n\t\t\t\t)}\n\t\t\t\trole=\"status\"\n\t\t\t\tstyle={this.props.style}\n\t\t\t>\n\t\t\t\t<span className=\"slds-assistive-text\">\n\t\t\t\t\t{assistiveTextVariant[this.props.variant]}\n\t\t\t\t</span>\n\t\t\t\t{clonedIcon}\n\t\t\t\t<div className=\"slds-notify__content\">\n\t\t\t\t\t<h2 className=\"slds-text-heading_small\">\n\t\t\t\t\t\t{heading}{' '}\n\t\t\t\t\t\t{labels.headingLink ? (\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tonClick={this.props.onClickHeadingLink}\n\t\t\t\t\t\t\t\thref=\"javascript:void(0);\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{labels.headingLink}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</h2>\n\t\t\t\t\t{labels.details ? <p>{labels.details}</p> : null}\n\t\t\t\t</div>\n\t\t\t\t<Button\n\t\t\t\t\tassistiveText={{ icon: assistiveText.closeButton }}\n\t\t\t\t\tbuttonRef={this.saveButtonRef}\n\t\t\t\t\tclassName=\"slds-notify__close\"\n\t\t\t\t\ticonCategory=\"utility\"\n\t\t\t\t\ticonName=\"close\"\n\t\t\t\t\ticonSize=\"large\"\n\t\t\t\t\tinverse\n\t\t\t\t\tonClick={this.props.onRequestClose}\n\t\t\t\t\ttitle={assistiveText.closeButton}\n\t\t\t\t\tvariant=\"icon\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nToast.defaultProps = defaultProps;\nToast.displayName = TOAST;\nToast.propTypes = propTypes;\n\nexport default Toast;\n"],"file":"index.js"}